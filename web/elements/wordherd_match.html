<link rel="import" href="wordherd_game.html">

<polymer-element name="wordherd-match">
  <template>
    <template if="{{game == null}}">
      <template if="{{match != null}}">
        <template if="{{match.isOver}}">
          <p>The match is over! {{match.winningName}} won.</p>
        </template>
        <template if="{{!match.isOver && !match.myTurnOver(playerId)}}">
          <p><button on-click="playGame">Resume your game</button></p>
        </template>
        <template if="{{!match.isOver && match.myTurnOver(playerId)}}">
          <p>Your game is over. Waiting on other player.</p>
        </template>
        <p>
          Your score: {{match.myScore(playerId)}},
          {{match.opponentName(playerId)}} score: {{match.opponentScore(playerId)}}
        </p>
      </template>
      <template if="{{match == null}}">
        <p>Loading...</p>
      </template>
      <p>
        <a href="#/">Home</a>
      </p>
    </template>
    
    <template if="{{game != null}}">
      <wordherd-game game="{{game}}" board="{{board}}"></wordherd-game>
    </template>
  </template>
  
  <script type="application/dart" src="wordherd_match.dart"></script>
</polymer-element>