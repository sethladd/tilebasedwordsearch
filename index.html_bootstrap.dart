import "dart:mirrors" as nK;import "dart:typed_data" as uS;import "dart:collection" as PF;import "dart:web_sql" as oK;import "dart:async" as v;import "dart:json" as t;import "dart:math" as mK;import "dart:html" as CB;import "dart:isolate" as hB;import "dart:indexed_db" as jI;class WR{static const  XR="Chrome";static const  YR="Firefox";static const  ZR="Internet Explorer";static const  aR="Opera";static const  bR="Safari";final  KQ;final  minimumVersion;const WR(this.KQ,[this.minimumVersion]);}class cR{}class dR{final  name;const dR(this.name);}class eR{}class fR{}class gR extends dC{var NT;static final pK=new CB.Element.html('<label class="selected-word">last word</label>'),qK=new CB.Element.html('<label class="selected-word"></label>'),rK=new CB.Element.html('<div class="score"></div>'),sK=new CB.Element.html('<div class="time"></div>'),tK=new CB.DocumentFragment.html('''
        <div class="selected-word">
          <template></template>
          <template></template>
        </div>
        <canvas id="frontBuffer" class="board"></canvas>
        <div class="game-data">
          <template></template>
        </div> <!-- end of game-data class -->
        <div>
          <button class="pause" id="pause" disabled="">Pause</button>
          <button id="end" disabled="">End game</button>
        </div>

      ''');var OT,PT;var QT,RT,ST;var TT; uC(){var UT=createShadowRoot("game-panel");BD("game-panel",new UC({"game-panel":"[is=\"game-panel\"]"}));NT=wC("game-panel");TT=new HC(UT);UT.nodes.add(tK.clone(true));QT=UT.nodes[1].nodes[1];TT.mB(QT,()=>PB.WC.isEmpty,(TT){TT.addAll([new CB.Text('\n            '),pK.clone(true),new CB.Text('\n          ')]);});RT=UT.nodes[1].nodes[3];TT.mB(RT,()=>!PB.WC.isEmpty,(TT){var VT;VT=qK.clone(true);var WT=TT.KC(()=>PB.WC[0],false);VT.nodes.add(WT);TT.addAll([new CB.Text('\n            '),VT,new CB.Text('\n          ')]);});ST=UT.nodes[5].nodes[1];TT.mB(ST,()=>PB!=null,(TT){var XT,YT;XT=rK.clone(true);var ZT=TT.KC(()=>PB.OC,false);XT.nodes.add(ZT);YT=sK.clone(true);var aT=TT.KC(()=>bT.jC,false);YT.nodes.add(aT);TT.addAll([new CB.Text('\n            '),XT,new CB.Text('\n            '),YT,new CB.Text('\n          ')]);});OT=UT.nodes[9].nodes[1];TT.listen(OT.onClick,(g){NR();});PT=UT.nodes[9].nodes[3];TT.listen(PT.onClick,(g){SQ();});TT.fB();} xC(){TT.insert();} zC(){TT.remove();TT=QT=RT=ST=OT=PT=null;}var pD;var tE;var MD;var bT;var TK;var cT;var ND;var paused=false;var dT;var eT;var fT;var vC;var gT;var hT;PK(){eT=CB.query('#pause');fT=CB.query('#end');dT=CB.query('#frontBuffer');gT=CB.query('selected-word');hT=CB.query('body');cT=new wD(dT);bT=new NL(cT);cT.wQ.UK=false;hT.classes.add('no-scroll');cT.fH=aQ;cT.dH=XQ;cT.onTouchStart=ZQ;cT.onTouchEnd=YQ;RQ();HR();}bK(){cT.RK.BF=null;hT.classes.remove('no-scroll');cT.stop();} HR(){PB=new RF(MD.cQ());pD=new lI(PB,dT);tE=new OL(PB,pD);cT.RK.BF=tE.oQ;bT.start();bT.HG.future.then((iT){jT();vB='results';});vC=new kF();jT();cT.start();} RQ(){fT.disabled=false;eT.disabled=false;} SQ(){if(CB.window.confirm('Are you sure you want to end the game?')){bT.stop();jT();vB='results';}} jT(){vC.rB=PB.KR;vC.jC=bT.AD;vC.FC=PB.FC.keys.toList();vC.OC=PB.OC;vC.pQ=new DateTime.now();return vC.IR().catchError(print);} NR(){if(!paused){bT.pause();vC.jC=bT.AD;jT();dT.classes.add('hidden');eT.text="Resume";}else{bT.BR();eT.text="Pause";dT.classes.remove('hidden');}paused=!paused;} PQ( i, h){var g=dT.context2D;g.beginPath();g.arc(i,h,5.0,0,2*mK.PI);g.fillStyle='green';g.fill();} aQ( g){tE.update(ND);} XQ( k){if(pD!=null){pD.yQ();}if(ND==null){return;}var j=new kI(dT);ND.sH.forEach((g){var i=pD.iK(g.x);var h=pD.jK(g.y);PQ(i,h);});}var MF=0; ZQ( h, g){if(ND==null){ND=g;}else{}MF++ ;print('Open touches ${MF}');} YQ( i, g){if(g==ND){ND=null;var h=tE.iC;PB.CK(h);}else{}MF-- ;print('Open touches ${MF}');}}class hR extends dC{var kT;static final uK=new CB.Element.html('<p>You did not pick any words</p>'),vK=new CB.Element.tag('h2'),wK=new CB.Element.html('<ul>\n                  <li style="display:none"></li>\n                </ul>'),xK=new CB.Element.html('<li template="" repeat="key in app.board.words.keys"></li>'),yK=new CB.DocumentFragment.html('''
        <h2>Results</h2>
        <div class="game-data">
          <div></div>
          <div>
            <template></template>

            <template></template>
          </div>
          <button>Another game</button>
          <button>See scores</button>
          <button>Home</button>
        </div>
      ''');var lT,mT,nT;var oT;var pT,qT;var rT; uC(){var sT=createShadowRoot("game-results-panel");BD("game-results-panel",new UC({"game-results-panel":"[is=\"game-results-panel\"]"}));kT=wC("game-results-panel");rT=new HC(sT);sT.nodes.add(yK.clone(true));oT=sT.nodes[3].nodes[1];var tT=rT.KC(()=>PB.OC,false);oT.nodes.addAll([new CB.Text('Score: '),tT]);pT=sT.nodes[3].nodes[3].nodes[1];rT.mB(pT,()=>PB.FC.keys.isEmpty,(rT){rT.addAll([new CB.Text('\n              '),uK.clone(true),new CB.Text('\n            ')]);});qT=sT.nodes[3].nodes[3].nodes[3];rT.mB(qT,()=>!PB.FC.keys.isEmpty,(rT){var uT,vT,wT;uT=vK.clone(true);var xT=rT.KC(()=>PB.FC.length,false);uT.nodes.addAll([new CB.Text('You found '),xT,new CB.Text(' words')]);wT=wK.clone(true);vT=wT.nodes[1];rT.loop(vT,()=>PB.FC.keys,(j,i,rT){var h=j[i];var yT;yT=xK.clone(true);var zT=rT.KC(()=>h,false);var AU=rT.KC(()=>PB.FC[h],false);yT.nodes.addAll([new CB.Text('\n                    '),zT,new CB.Text(' '),AU,new CB.Text('\n                  ')]);rT.add(yT);});rT.addAll([new CB.Text('\n              '),uT,new CB.Text('\n                '),wT,new CB.Text('\n            ')]);});lT=sT.nodes[3].nodes[5];rT.listen(lT.onClick,(g){vB='newGame';});mT=sT.nodes[3].nodes[7];rT.listen(mT.onClick,(g){vB='highScores';});nT=sT.nodes[3].nodes[9];rT.listen(nT.onClick,(g){vB='main';});rT.fB();} xC(){rT.insert();} zC(){rT.remove();rT=oT=pT=qT=lT=mT=nT=null;}}class iR extends dC{var BU;static final zK=new CB.Element.html('<ul>\n            <template></template>\n          </ul>'),AL=new CB.LIElement(),BL=new CB.DocumentFragment.html('''
        <h2>High Scores</h2>
        <template></template>
        <template></template>
          <button>New game</button>
          <button>Home</button>
      ''');var CU,DU;var EU,FU;var GU; uC(){var HU=createShadowRoot("high-scores-panel");BD("high-scores-panel",new UC({"high-scores-panel":"[is=\"high-scores-panel\"]"}));BU=wC("high-scores-panel");GU=new HC(HU);HU.nodes.add(BL.clone(true));EU=HU.nodes[3];GU.mB(EU,()=>EH.length>0,(GU){var IU,JU;JU=zK.clone(true);IU=JU.nodes[1];GU.loop(IU,()=>EH,(h,g,GU){var j=h[g];var KU;KU=AL.clone(true);var LU=GU.KC(()=>j,false);KU.nodes.add(LU);GU.addAll([new CB.Text('\n              '),KU,new CB.Text('\n            ')]);});GU.addAll([new CB.Text('\n          '),JU,new CB.Text('\n        ')]);});FU=HU.nodes[5];GU.mB(FU,()=>EH.length<=0,(GU){GU.add(new CB.Text('\n          No high scores yet.\n        '));});CU=HU.nodes[7];GU.listen(CU.onClick,(i){vB='newGame';});DU=HU.nodes[9];GU.listen(DU.onClick,(i){vB='main';});GU.fB();} xC(){GU.insert();} zC(){GU.remove();GU=EU=FU=CU=DU=null;}var EH=<int>[] ;}class jR extends dC{var MU;static final CL=new CB.Element.html('<li template="" repeat="game in games"></li>'),DL=new CB.DocumentFragment.html('''
        <p>Games</p>
        <ul>
          <li style="display:none"></li>
        </ul>
      ''');var NU;var OU; uC(){var PU=createShadowRoot("list-games");BD("list-games",new UC({"list-games":"[is=\"list-games\"]"}));MU=wC("list-games");OU=new HC(PU);PU.nodes.add(DL.clone(true));NU=PU.nodes[3].nodes[1];OU.loop(NU,()=>AH,(h,g,OU){var i=h[g];var QU;QU=CL.clone(true);var RU=OU.KC(()=>i.FK,false);QU.nodes.addAll([new CB.Text('\n            '),RU,new CB.Text('\n          ')]);OU.add(QU);});OU.fB();} xC(){OU.insert();} zC(){OU.remove();OU=NU=null;}var AH;}typedef EL( authenticationContext);typedef FL();class kR extends dC{var SU;static final GL=new CB.DocumentFragment.html('''
        <h2>Login Panel</h2>
        <div id="google-connect">
          <button class="g-signin" data-scope="https://www.googleapis.com/auth/games https://www.googleapis.com/auth/appstate" data-clientid="250963735330.apps.googleusercontent.com" data-callback="onSignInCallback" data-accesstype="offline" data-cookiepolicy="single_host_origin"></button>
        </div>
        <div id="auth-disconnect" style="display:none">
          <button id="disconnect">Disconnect your Google account from this app</button>
        </div>
      ''');var TU;var UU; uC(){var VU=createShadowRoot("login-panel");BD("login-panel",new UC({"login-panel":"[is=\"login-panel\"]"}));SU=wC("login-panel");UU=new HC(VU);VU.nodes.add(GL.clone(true));TU=VU.nodes[5].nodes[1];UU.listen(TU.onClick,(g){disconnect(g);});UU.fB();} xC(){UU.insert();} zC(){UU.remove();UU=TU=null;}var IF;var JF;var EC;WU( g){print("authRequest = ${g}");if(g["access_token"]!=null){CB.query("#google-connect").style.display="none";CB.query("#auth-disconnect").style.display="block";EC.gB=g["access_token"];EC.tokenType=g["token_type"];if(IF!=null){IF(EC,g);}}else if(g["error"]!=null){print("There was an error: ${g["error"]}");CB.query("#google-connect").style.display="block";CB.query("#auth-disconnect").style.display="none";}} disconnect(i){eD((){aC.nS=new MS.BT(([h]){print("revoke response: ${h}");CB.query("#auth-disconnect").style.display="none";CB.query("#google-connect").style.display="block";EC.gB=null;if(JF!=null){JF();}});var g=new CB.Element.tag("script");g.src="https://accounts.google.com/o/oauth2/revoke?token=${EC.gB}&callback=myJsonpCallback";CB.document.body.children.add(g);});} EK(){eD((){var h=new MS.CT((m,i){if(m=="g-oauth-window"){return "";}return i;});aC.oS=new MS.CT(( k){var j=t.parse(aC.xJ.stringify(k,h));WU(j);});});var g=new CB.ScriptElement();g.async=true;g.type="text/javascript";g.src="https://plus.google.com/js/client:plusone.js";CB.document.body.children.add(g);}}class lR extends dC{var XU;static final HL=new CB.DocumentFragment.html('''
        <h2>Main Panel</h2>
        <button>Show high scores</button>
        <button>New game</button>
        <content></content>
      ''');var YU,ZU;var aU; uC(){var bU=createShadowRoot("main-panel");BD("main-panel",new UC({"main-panel":"[is=\"main-panel\"]"}));XU=wC("main-panel");aU=new HC(bU);bU.nodes.add(HL.clone(true));YU=bU.nodes[3];aU.listen(YU.onClick,(g){vB='highScores';});ZU=bU.nodes[5];aU.listen(ZU.onClick,(g){vB='newGame';});aU.fB();} xC(){aU.insert();} zC(){aU.remove();aU=YU=ZU=null;}}class mR extends dC{var cU;static final IL=new CB.DocumentFragment.html('''
        <h2>New Game Panel</h2>
        <div>
          <button>Start Game</button>
          <button>Cancel</button>
        </div>
      ''');var dU,eU;var fU; uC(){var gU=createShadowRoot("new-game-panel");BD("new-game-panel",new UC({"new-game-panel":"[is=\"new-game-panel\"]"}));cU=wC("new-game-panel");fU=new HC(gU);gU.nodes.add(IL.clone(true));dU=gU.nodes[3].nodes[1];fU.listen(dU.onClick,(g){vB='game';});eU=gU.nodes[3].nodes[3];fU.listen(eU.onClick,(g){vB='main';});fU.fB();} xC(){fU.insert();} zC(){fU.remove();fU=dU=eU=null;}}class nR extends dC{var hU;static final JL=new CB.Element.html('<ul>\n            <template></template>\n          </ul>'),KL=new CB.LIElement(),LL=new CB.Element.html('<span class="score"></span>'),ML=new CB.DocumentFragment.html('''
        <template></template>
      ''');var iU;var jU; uC(){var kU=createShadowRoot("word-list");BD("word-list",new UC({"word-list":"[is=\"word-list\"]"}));hU=wC("word-list");jU=new HC(kU);kU.nodes.add(ML.clone(true));iU=kU.nodes[1];jU.mB(iU,()=>!PB.WC.isEmpty,(jU){var lU,mU;mU=JL.clone(true);lU=mU.nodes[1];jU.loop(lU,()=>PB.WC,(h,g,jU){var i=h[g];var nU,oU;oU=KL.clone(true);var pU=jU.KC(()=>i,false);nU=LL.clone(true);var qU=jU.KC(()=>CR(g),false);nU.nodes.add(qU);oU.nodes.addAll([pU,new CB.Text(' '),nU]);jU.addAll([new CB.Text('\n              '),new CB.Text('\n              '),oU,new CB.Text('\n            ')]);});jU.addAll([new CB.Text('\n          '),mU,new CB.Text('\n        ')]);});jU.fB();} xC(){jU.insert();} zC(){jU.remove();jU=iU=null;} CR( g){return PB.FC[PB.WC[g]].toString();}}class oR{var x,y;oR(this.x,this.y);}class OL{final  rB;final  view;OL(this.rB,this.view);var iC;var rU=''; aG(){view.SE.clear();iC=null;} ZG(){rU='';} wU( i, j){var h=i.length;var k=j.length;if(h!=k){return h-k;}for(int g=0;g<h;g++ ){var m=i[g]-j[g];if(m!=0){return m;}}return 0;} GR( h){var g=h.toList();g.sort(wU);return g;} PR(){aG();if(rU.length==0){return;}var k=new Set<List<int>>();var g;var m=0;if(rB.VC.MI(rU,k)){var o=GR(k);o.forEach((j){var i=rB.eK(j);if(i>m){g=j;m=i;}});}if(g!=null){iC=g;for(int h=0;h<iC.length;h++ ){view.SE.add(iC[h]);}}} OR( g){if(g>=RC.aF&&g<=RC.bF){return new String.fromCharCode(g);}return '';} oQ( g, i){if(i==true){return true;}if(g.OD==false){return true;}if(g.sB==RC.KJ||g.sB==RC.IJ){ZG();return true;}if(g.sB==RC.JJ){rB.CK(iC);ZG();return true;}var h=rU+OR(g.sB);if(g.sB<RC.aF||g.sB>RC.bF){return true;}if(rB.VC.MI(h,null)){rU=h;}else if(g.sB==RC.HJ&&rB.VC.MI(h+'U',null)){rU=h;}else{while (rU.length>0){if(rU[rU.length-1]=='Q'){rU=rU.substring(0,rU.length-1);}else{break;}}}return true;} QR( k){var w=view.cK;var q=view.dK;if(k!=null){ZG();aG();for(var j in k.sH){var o=view.iK(j.x);var p=view.jK(j.y);for(int h=0;h<EB.jB;h++ ){for(int g=0;g<EB.jB;g++ ){var i=EB.hF(h,g);if(view.SE.contains(i)){continue;}var m=view.dQ(h,g);if(m.NQ(o,p)){view.SE.add(i);if(iC==null){iC=new List<int>();}iC.add(i);}}}}}} update( g){aG();PR();QR(g);}}class NL extends SB{static const  SF=70;final  KB;var TE=false;var gameLength=SF;var HG=new v.Completer();var tU='Not yet started'; get jC{if(OB){VB(this,BB.LB,'timeRemaining');}return tU;}set jC( g){if(kB(this)){JB(this,BB.LB,'timeRemaining',tU,g);}tU=g;}var AD=SF;NL( this.KB,{this.gameLength: SF}){if(gameLength!=null){AD=gameLength;}jC=JK(AD);} JK( h){if(h<=0)return '0';var k=h~/60;var g=h%60;var j="";var i="";if(k>0){j='${k.toString()}:';i=(g<=9)?'0${g}':'${g}';}else{i=g.toString();}return '${j}${i}';}UI( vS){if(!TE){AD-- ;jC=JK(AD);if(AD>0){KB.BK(UI,1.0);}else{HG.complete(true);print('DONE!');}}}start(){TE=false;KB.BK(UI,1.0);}stop(){TE=true;AD==0;jC='GAME OVER!';HG.complete(true);}pause(){TE=true;}BR(){TE=false;UI(null);}}class kI{final  left;final  top;final  width;final  height;kI( g):this.left=g.offsetLeft,this.top=g.offsetTop,this.width=g.clientWidth,this.height=g.clientHeight;kI.wS(this.left,this.top,this.width,this.height); get bottom=>top+height; get right=>left+width; contains( h, g){return left<=h&&h<=right&&top<=g&&g<=bottom;} NQ( j, g){var h=(width*0.10).toInt();var i=(height*0.10).toInt();return left+h<=j&&j<=right-h&&top+i<=g&&g<=bottom-i;} toString()=>'[${left},${top}], [${right}, ${bottom}]';}class PL{final  name;final  rect;PL(this.name,i,g,h,j):this.rect=new CB.Rect(i,g,h,j);}class QF{static const RL=const QF.vS(0);static const UL=const QF.vS(1);final  value;const QF.vS(this.value);}class uD{static const SL=const uD.vS(0);static const VL=const uD.vS(1);static const WL=const uD.vS(2);static const XL=const uD.vS(3);final  value;const uD.vS(this.value);}class QL{final  qQ;final  DR;QL(this.qQ,this.DR);}class RF extends SB{static const TL=10;final  WC=kJ(new List<String>());final  FC=new Map<String,int>();final  VC;var sU=1; get fK{if(OB){VB(this,BB.LB,'scoreMultiplier');}return sU;}final  rQ=new Set<int>();var xU=null;var yU=0; get OC{if(OB){VB(this,BB.LB,'score');}return yU;}set OC( g){if(kB(this)){JB(this,BB.LB,'score',yU,g);}yU=g;}RF(this.VC); get KR=>VC.rB; CK( h){if(h==null){return false;}var g=VC.JR(h);if(g==''){return false;}if(FC[g]!=null){return false;}if(!VC.gQ(g)){return false;}AV(h,g);return true;} AV( i, g){var h=eK(i);OC+= h;while (WC.length>=TL){WC.removeLast();}WC.insert(0,g);FC[g]=h;} eK( g){if(g==null||g.length==0){return 0;}var j=new List<int>(g.length);var o=false;for(int i=0;i<g.length;i++ ){var k=g[i];var q=EB.iF(k);var w=EB.jF(k);var p=VC.xE(q,w);var m=EB.qO[p];if(rQ.contains(k)){m*= fK;}j[i]=m;}var h=0;for(int i=0;i<j.length;i++ ){h+= j[i];}if(g.length<=3){h+= 0;}else if(g.length<=4){h+= 1;}else if(g.length<=5){h+= 2;}else if(g.length<=6){h+= 3;}else if(g.length<=7){h+= 5;}else{h+= 11;}if(o){h*= fK;}return h;}}class pR{var lK;var OC;var XK;pR(this.lK,this.OC,this.XK); l(){return {'when':lK.toString(),'score':OC,'opponentName':XK};}}class lI{final  yJ=EB.jB*(EB.gE+EB.jD);final  wJ=EB.jB*(EB.gE+EB.jD);final  sD=new List<kI>();final  rB;final  canvas;final  SE=new Set<int>();lI(this.rB,this.canvas){sD.length=16;iQ();} iQ(){canvas.width=yJ;canvas.height=wJ;for(int h=0;h<EB.jB;h++ ){for(int g=0;g<EB.jB;g++ ){var k=h*(EB.gE+EB.jD);var i=g*(EB.gE+EB.jD);var j=EB.jD;var m=EB.jD;sD[EB.hF(h,g)]=new kI.wS(k,i,j,m);}}} dQ( g, h){return sD[EB.hF(g,h)];} get cK=>canvas.width/canvas.clientWidth; get dK=>canvas.height/canvas.clientHeight; iK( h){var i=canvas.getBoundingClientRect();var j=(i.left+CB.document.body.scrollLeft).toInt();var g=((h-j)*cK).toInt();return g;} jK( i){var j=canvas.getBoundingClientRect();var h=(j.top+CB.document.body.scrollTop).toInt();var g=((i-h)*dK).toInt();return g;} yQ(){var h=canvas.context2D;h.clearRect(0,0,yJ,wJ);for(int g=0;g<sD.length;g++ ){var m=sD[g].left;var j=sD[g].top;var i=WE;if(SE.contains(g)){i=UF;}var k=rB.VC.xE(EB.iF(g),EB.jF(g));i.OQ(k,h,m,j);}}}class TF{final  HB;final  elements=new Map<String,PL>();TF(this.HB); AK( g, j, h, i, k){elements[g]=new PL(g,j,h,i,k);} OQ( h, j, k, i){var g=elements[h];if(g==null){print('no atlas for ${h}');return;}var m=new CB.Rect(k,i,g.rect.width,g.rect.height);j.drawImageToRect(HB,m,sourceRect:g.rect);}}class YL{var vU;var EC;var rH;var OK;var HI;var IE;var id;YL(){EC=new aE(null);rH=new ZN(EC);OK=new pM(EC);HI=new List<QL>();IE=new List<ZL>();} ER( i,[ g]){if(g!=null){vU=g;}rH.hC=true;OK.hC=true;print("Player is signed in client side");rH.vQ.get('me').then(( h){id=h.id;zU(id);});vB='main';} zU( i){kC.rD("gplusId = ${i}");var k=(CB.query("meta[name='state_token']") as CB.MetaElement).content;var g="${CB.window.location.href}connect?state_token=${k}&gplus_id=${i}";kC.rD(g);CB.HttpRequest.request(g,method:"POST",sendData:t.stringify(vU),onProgress:( j){kC.rD("ProgressEvent ${j.toString()}");}).then(( h){kC.rD("connected from POST METHOD");if(h.status==401){kC.rD("request.responseText = ${h.responseText}");return;}}).catchError((m){kC.rD("POST ${g} error ${m.toString()}");});} FR(){print("Player is signed out");vB='login';}}class ZL{final  IQ;final  JE;ZL(this.IQ,this.JE);}var DD=new WF();var mI;var WE;var UF;var QC;final  kC=new cC("client");var PB;final XE=new SB();var VF='main'; get vB{if(OB){VB(XE,BB.LB,'currentPanel');}return VF;}set vB( g){if(kB(XE)){JB(XE,BB.LB,'currentPanel',VF,g);}VF=g;}var aL=kJ([] ); get nI{if(OB){VB(XE,BB.LB,'games');}return aL;} bL(){kC.info('start processing assets');if(DD['game.boards']==null){throw new StateError("Can't play without the boards");}mI=new jJ(DD['game.boards']);var w=DD['game.tiles'];var p=DD['game.tiles_highlighted'];if(w==null||p==null){throw new StateError("Can\'t play without tile images.");}var CD=16;var TB=30;var k=94;var i=94;var uB=5;var OF=4;WE=new TF(w);UF=new TF(p);final  XC=5;final  DB=6;var j=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','QU','R','S','T','U','V','W','X','Y','Z'];for(int h=0;h<XC;h++ ){for(int g=0;g<DB;g++ ){var m=DB*h+g;if(m>=j.length){break;}var o=CD+g*(k+uB);var q=TB+h*(i+OF);WE.AK(j[m],o,q,k,i);UF.AK(j[m],o,q,k,i);}}kC.info('Assets loaded and parsed');} cL(){dL();QC=new YL();QC.HI.add(new QL("CgkIoubq9KYHEAIQAQ",QF.RL));QC.HI.add(new QL("CgkIoubq9KYHEAIQAg",QF.UL));QC.IE.add(new ZL("CgkIoubq9KYHEAIQBA",uD.SL));QC.IE.add(new ZL("CgkIoubq9KYHEAIQBQ",uD.VL));QC.IE.add(new ZL("CgkIoubq9KYHEAIQBg",uD.WL));QC.IE.add(new ZL("CgkIoubq9KYHEAIQBw",uD.XL));DD.gC['image']=new wR();DD.TD['image']=new vR();print('Touch events supported? ${CB.TouchEvent.supported}');return DD.TH('game','assets/_.pack').then((vS)=>bL()).then((vS)=>sO('wordherd','wordherd')).then((vS){return iJ.vO(kF).toList().then((g)=>nI.addAll(g));});}dL(){cC.fE.VD=QB.mO;cC.fE.uQ.listen(( g){var h=new StringBuffer();h..write(g.time.toString())..write(":")..write(g.VK)..write(":")..write(g.VD.name)..write(":")..write(g.gK)..write(": ")..write(g.message.toString());print(h.toString());});}main(){rJ=true;eL();fL();}eL(){cL();} fL(){var BV=CB.document.body;final CV=new CB.Element.html('<div is="login-panel"></div>'),DV=new CB.Element.html('<div is="main-panel">\n            <div is="list-games"></div>\n          </div>'),EV=new CB.Element.html('<div is="game-results-panel"></div>'),FV=new CB.Element.html('<div class="social"> <!-- 150 -->\n          <h2 class="column-heading">Notifications</h2>\n          <div class="your-turn">\n            <div class="notification">\n              <div class="heading">jose45 is waiting</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n            <div class="notification">\n              <div class="heading">poohbah is waiting</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n            <div class="notification">\n              <div class="heading">asdffdsa is waiting</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n          </div>\n          <div class="their-turn">\n            <div class="notification">\n              <div class="heading">Waiting for jose45</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n            <div class="notification">\n              <div class="heading">Waiting for poohb</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n            <div class="notification">\n              <div class="heading">Waiting for asdsa</div>\n              <div class="time">4 hours ago</div>\n              <div style="clear: both;"></div>\n            </div>\n          </div>\n        </div>'),GV=new CB.Element.html('<div style="clear: both;"></div>'),HV=new CB.Element.html('<div is="game-panel" class="grid"></div>'),IV=new CB.Element.html('<div class="words">\n            <h2 class="column-heading">Recent Words</h2>\n            <template></template>\n          </div>'),JV=new CB.Element.html('<div is="word-list">\n              </div>'),KV=new CB.Element.html('<div is="new-game-panel"></div>'),LV=new CB.Element.html('<div is="high-scores-panel"></div>');var MV,NV,OV,PV,QV,RV;var SV=new HC(BV);MV=BV.nodes[1].nodes[3].nodes[1];SV.mB(MV,()=>vB=='login',(SV){var TV;TV=CV.clone(true);SV.tD(()=>QC.EC,(g){if(TV.xtag.EC!=g)TV.xtag.EC=g;},false,false);SV.tD(()=>QC.ER,(g){if(TV.xtag.IF!=g)TV.xtag.IF=g;},false,false);SV.tD(()=>QC.FR,(g){if(TV.xtag.JF!=g)TV.xtag.JF=g;},false,false);SV.zB(new kR()..host=TV);SV.addAll([new CB.Text('\n          '),TV,new CB.Text('\n        ')]);});QV=BV.nodes[1].nodes[3].nodes[3];SV.mB(QV,()=>vB=='main',(SV){var UV,VV;VV=DV.clone(true);UV=VV.nodes[1];SV.tD(()=>nI,(g){if(UV.xtag.AH!=g)UV.xtag.AH=g;},false,false);SV.zB(new jR()..host=UV);SV.zB(new lR()..host=VV);SV.addAll([new CB.Text('\n          '),VV,new CB.Text('\n        ')]);});RV=BV.nodes[1].nodes[3].nodes[5];SV.mB(RV,()=>vB=='results',(SV){var WV;WV=EV.clone(true);SV.zB(new hR()..host=WV);SV.addAll([new CB.Text('\n          '),WV,new CB.Text('\n        ')]);});NV=BV.nodes[1].nodes[3].nodes[7];SV.mB(NV,()=>vB=='game',(SV){var XV,YV,ZV;YV=HV.clone(true);SV.tD(()=>mI,(g){if(YV.xtag.MD!=g)YV.xtag.MD=g;},false,false);SV.tD(()=>WE,(g){if(YV.xtag.TK!=g)YV.xtag.TK=g;},false,false);SV.zB(new gR()..host=YV);XV=IV.clone(true);ZV=XV.nodes[3];SV.mB(ZV,()=>!PB.WC.isEmpty,(SV){var aV;aV=JV.clone(true);SV.zB(new nR()..host=aV);SV.addAll([new CB.Text('\n              '),aV,new CB.Text('\n            ')]);});SV.addAll([new CB.Text('\n          '),YV,new CB.Text('\n          '),XV,new CB.Text('\n          '),FV.clone(true),new CB.Text('\n        '),GV.clone(true),new CB.Text('\n\n        ')]);});OV=BV.nodes[1].nodes[3].nodes[9];SV.mB(OV,()=>vB=='newGame',(SV){var bV;bV=KV.clone(true);SV.zB(new mR()..host=bV);SV.addAll([new CB.Text('\n          '),bV,new CB.Text('\n        ')]);});PV=BV.nodes[1].nodes[3].nodes[11];SV.mB(PV,()=>vB=='highScores',(SV){var cV;cV=LV.clone(true);SV.zB(new iR()..host=cV);SV.addAll([new CB.Text('\n          '),cV,new CB.Text('\n        ')]);});SV.fB();SV.insert();}class uR extends BC{ load( g, i){i.oE(g);var j=new v.Completer<tS>();var h=new CB.VideoElement();h.onCanPlay.listen((m){i.rC(g);j.complete(h);});h.onError.listen((k){i.sC(g,k.toString());i.rC(g);j.complete(null);});h.src=g.url;return j.future;} delete( g){}}class gL extends BC{ load( i, g){return BC.XF(i,'text',(h)=>h.responseText,g);} delete( g){}}class rR extends BC{var dV;rR(this.dV); load( h, g){var o=new gL();var p=o.load(h,g);return p.then((q){var i;try {i=t.parse(q);}on FormatException catch (TB){g.sC(h,TB.message);return new v.Future.value(null);}var k={};var m=[] ;var CD=Uri.parse(h.url);i.forEach((j,XC){var w=CD.resolve(XC).toString();var uB=new AB(null,j,w,'',null,{},null,{});m.add(dV.load(uB,g).then((DB){k[j]=DB;}));});return v.Future.wait(m).then((kV){return k;});});} delete( g){}}class wR extends BC{ load( g, i){i.oE(g);var k=new v.Completer<tS>();var h=new CB.ImageElement();h.onLoad.listen((j){i.rC(g);k.complete(h);});h.onError.listen((j){i.sC(g,"${j.runtimeType} : ${j.type}");i.rC(g);k.complete(null);});h.src=g.url;return k.future;} delete( g){}}class yR extends BC{ load( i, g){return BC.XF(i,'blob',(h)=>h.response,g);} delete( g){}}class sR extends BC{ load( i, g){return BC.XF(i,'arraybuffer',(h)=>h.response,g);} delete( g){}}class qR extends dD{ initialize( g){g.tB='';}v.Future<AB> import( i, g, h){h.KE(g);if(i is String){g.tB=i;}else{h.oD(g,"A text asset was not a String.");}h.JD(g);return new v.Future.value(g);} delete( g){}}class tR extends dD{final  yC;tR(this.yC); initialize( g){g.tB=new YC(yC,g.name);g.tB.eV=g.gH;}v.Future<AB> import( j, g, h){h.YK(g);h.KE(g);if(j==null){h.oD(g,"A pack asset was not available.");h.JD(g);h.DF(g);return new v.Future.value(g);}var CD=Uri.parse(g.url);var o;if(j is String){try {o=t.parse(j);}on FormatException catch (TB){h.oD(g,TB.message);h.JD(g);h.DF(g);return new v.Future.value(g);}}var k=g.tB;var DB=new vI.mL(o);var p=new List<v.Future<AB>>();DB.ZB.values.forEach((i){var w=CD.resolve(i.url).toString();var XC=i.name;var q=i.type;if(q==''){return;}var m=k.aK(XC,q,w,i.PE,i.LE);var uB=yC.oV(m).then((kV){m.iV='Ok';});p.add(uB);});return v.Future.wait(p).then((OF){h.JD(g);h.DF(g);return new v.Future.value(k);});} delete( g){if(g==null){return;}}}class xR extends dD{ initialize( g){g.tB={};}v.Future<AB> import( i, g, h){h.KE(g);try {if(i is String){try {var j=t.parse(i);g.tB=j;}on FormatException catch (k){h.oD(g,k.message);}}else{h.oD(g,"A text asset was not a String.");}return new v.Future.value(g);}finally {h.JD(g);}} delete( g){}}class vR extends dD{ initialize( g){g.tB=null;}v.Future<AB> import( i, g, h){h.KE(g);try {g.tB=i;return new v.Future.value(g);}finally {h.JD(g);}} delete( g){}}class WF{final  TD=new Map<String,dD>();final  gC=new Map<String,BC>();final  UE;WF([g]):UE=(g==null)?new DS():g{fV=new YC(this,'root');TD['json']=new xR();TD['text']=new qR();TD['pack']=new tR(this);TD['textmap']=new vR();TD['imagemap']=new vR();gC['textmap']=new rR(new gL());gC['imagemap']=new rR(new wR());gC['json']=new gL();gC['text']=gC['json'];gC['pack']=gC['json'];}var fV; get root=>fV; yE( g)=>root.yE(g); operator[]( g)=>yE(g); TH( g, h){return fV.TH(g,h);} oV( g){if(g.UH==null){UE.sC(g,'no loader registered for ${g.type}');return new v.Future.value(g);}if(g.ME==null){UE.sC(g,'no importer registered for ${g.type}');return new v.Future.value(g);}g.iV='Loading';return g.UH.load(g,UE).then((h){g.iV='Importing';return g.ME.import(h,g,UE);});}}class RB{static const pI='PackImportStart';static const qI='PackImportEnd';static const rI='AssetLoadStart';static const sI='AssetLoadEnd';static const hL='AssetLoadError';static const tI='AssetImportStart';static const uI='AssetImportEnd';static const iL='AssetImportError';final  type;final  label;final  QE;RB(this.type,this.label,this.QE); l(){var g=new Map();g['type']=type;g['label']=label;g['timestamp']=QE;} toString(){return '${QE}, ${type}, ${label}';}}typedef  oI( ratio, change, base);abstract class BC{static  XF( h, o, m(HttpRequest), i){i.oE(h);var j=new v.Completer<tS>();var g=new CB.HttpRequest();g.open('GET',h.url,async:true);g.responseType=o;g.onLoad.listen((k){if((g.status>=200&&g.status<300)||g.status==0||g.status==304){i.rC(h);j.complete(m(g));}else{i.sC(h,"http status code rejected : ${g.status} : ${g.statusText}");i.rC(h);j.complete(null);}});g.onError.listen((k){i.sC(h,"http status code rejected : ${g.status} : ${g.statusText}");i.rC(h);j.complete(null);});g.send();return j.future;} load( h, g); delete( g);}abstract class dD{ initialize( g);v.Future<AB> import( h, i, g); delete( g);}class AB{final  gH;final  name;final  type;final  UH;final  ME;final  sQ;final  hQ;final  url;var iV=''; get status=>iV;var jV; get tB=>jV;set tB( g){jV=g;iV='OK';} get nQ=>type=='pack';AB(this.gH,this.name,this.url,this.type,this.UH,this.sQ,this.ME,this.hQ); get path=>'${gH.path}.${name}'; lV(){if(ME!=null){ME.delete(jV);}}}class zR{var gV;zR(){hV();} hV(){final  h=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47];gV=new List<int>.filled(256,0);var i=h.length;for(int g=0;g<i; ++g){gV[h[g]]=g;}}}class YC{final  yC;final  name;final  ZB=new Map<String,AB>();var eV; get parent=>eV; get path{if(parent==null){return '';}var g=parent.path;if(g==''){return name;}else{return '${g}.${name}';}}YC(this.yC,this.name); type( h){var g=ZB[h];if(g!=null){return g.type;}return null;} url( h){var g=ZB[h];if(g!=null){return g.url;}return null;} aK( h, j, o, k, p){if(vI.nL(h)==false){throw new ArgumentError('${h} is an invalid name.');}var g=ZB[h];if(g!=null){throw new ArgumentError('${h} already exists.');}var m=yC.gC[j];var i=yC.TD[j];g=new AB(this,h,o,j,m,k,i,k);if(i!=null){i.initialize(g);}if(i==null){g.iV='No importer available.';}else if(m==null){g.iV='No loader available.';}else{g.iV='OK';}ZB[h]=g;return g;} yE( g){var i=g.split(".");var h=tV(g,i,false);if(h!=null){return h.tB;}return null;} operator[]( g)=>yE(g); tV( i, g, j){if(g.length==0){if(j==false){return null;}throw new ArgumentError('${i} does not exist.');}var m=g.removeAt(0);var h=ZB[m];if(h==null){if(j==false){return null;}throw new ArgumentError('${i} does not exist.');}if(h.nQ&&g.length>0){var k=h.tB;return k.tV(i,g,j);}if(g.length>0){if(j==false){return null;}throw new ArgumentError('${i} does not exist.');}return h;} TH( h, i){var g=aK(h,'pack',i,{},{});g.tB.eV=this;return yC.oV(g).then((kV)=>new v.Future.value(g.tB));} get length=>ZB.length; clear(){lV();} lV(){ZB.forEach((h,g){g.lV();});ZB.clear();}}class jL{final  label;final  events=new List<RB>();jL(this.label);}class AS{final  NI=new Map<String,jL>();AS( j){for(int i=0;i<j.length;i++ ){var g=j[i];var h=NI[g.label];if(h==null){h=new jL(g.label);NI[g.label]=h;}h.events.add(g);}NI.forEach((p,m){m.events.sort((k,o)=>k.QE.compareTo(o.QE));});}}class BS{static  kL( g, i, h){return i*g+h;}var mV;var nV;final  ease;var displayBackward=true;var pV=0;var qV=0;var rV=0.0;BS( g,{ this.ease: kL,this.displayBackward: true}){if(g is CB.ProgressElement){mV=g;}else{nV=g;}} sV(){if(pV==qV){pV=0;qV=0;rV=0.0;}} WK( h){switch (h.type){case RB.pI:sV();pV+= 1;break;case RB.rI:sV();pV+= 2;break;case RB.tI:break;case RB.qI:case RB.sI:case RB.uI:qV+= 1;break;}var g=qV/pV;rV=(displayBackward)?g:mK.max(rV,g);if(mV!=null){mV.value=ease(rV,mV.max,0).toInt();}if(nV!=null){nV.style.width=ease(rV,100,0).toString()+"%";}}}class CS{}class eB{final uV=new v.StreamController<RB>(); asStream()=>uV.stream; YK( g)=>fC(g,RB.pI,null); DF( g)=>fC(g,RB.qI,null); oE( g)=>fC(g,RB.rI,null); rC( g)=>fC(g,RB.sI,null); sC( h, g)=>fC(h,RB.hL,g); KE( g)=>fC(g,RB.tI,null); JD( g)=>fC(g,RB.uI,null); oD( h, g)=>fC(h,RB.iL,g); fC( h, k, g){var j=(g==null)?h.url:"${h.url} >> ${g}";var i=(CB.window.performance.now()*1000).toInt();var m=new RB(k,j,i);uV.add(m);}}class DS extends eB{ YK( g){} DF( g){} oE( g){} rC( g){} sC( h, g){} KE( g){} JD( g){} oD( h, g){} fC( i, h, g){}}class lL{final  events=new List<RB>();WK( g){return events.add(g);} l(){return events.map((g)=>g.l()).toList();}}class ES extends eB{final  zJ=new lL(); get events=>zJ.events;ES(){asStream().listen(zJ.WK);}}class vD{final  name;final  url;var type;final  PE;final  LE; l(){var g=new Map();g['url']=url;g['type']=type;if(PE!=null&&!PE.isEmpty){g['loadArguments']=PE;}if(LE!=null&&!LE.isEmpty){g['importArguments']=LE;}return g;}vD(this.name,this.url,this.type,this.PE,this.LE);static  mL( i, g){var k=g['url'];var m=g['type'];var h=g['loadArguments'];var j=g['importArguments'];var o=new vD(i,k,m,h,j);return o;}}class vI{static  nL( g){return g!='';}final  ZB=new Map<String,vD>(); clear(){ZB.clear();} l(){var h=new Map<String,Map>();ZB.forEach((i,g){h[g.name]=g.l();});return h;}vI();vI.mL( h){if(h==null){return;}h.forEach((g,j){var i=vD.mL(g,j);ZB[g]=i;});}}class wI{final  sB;var value=0.0;var aB=0;var time=0.0;wI(this.sB);}typedef xI( timer);typedef  oL( event, repeat);abstract class yI{ get x; get y; get dx; get dy; get time; get aB;}typedef  pL( gameLoop);abstract class bB{var VE=0.015;var WH=0.03; get aB; get NK; get QQ=>VE;static  YF(g)=>g/1000.0; get time=>YF(new DateTime.now().millisecondsSinceEpoch);bB(){} xQ(){var AW=BW.length;for(int g=0;g<AW;g++ ){BW[g].yV(QQ);}for(int g=BW.length-1;g>=0;g-- ){var h=BW.length-1;if(BW[g].zV){if(g!=h){BW[g]=BW[h];}BW.removeLast();}}} start(); stop();final  BW=new List<YE>(); BK( h, i,{ periodic: false}){var g=new YE.xS(this,i,h,xV:periodic);BW.add(g);return g;}var fH;}class YE{final  KB;final  eH;var vV=0.0;final  wV;var xV; get periodic=>xV;YE.xS(this.KB,this.wV,this.eH,{this.xV: false}){vV=wV;} yV( g){if(zV){return;}vV-= g;if(vV<=0.0){if(eH!=null){eH(this);}}} get zV{var g=vV<=0.0;if(g&&periodic){vV=wV;return false;}if(g){return true;}else{return false;}} cancel(){vV=-1.0;xV=false;}}class zI{final  sB;var KK=0;var LK=0;var LR=0.0;var MR=0.0;zI(this.sB); get OD=>KK>LK;}class qL{final  KB;final  buttons=new Map<int,wI>();qL(this.KB, h){for(int g in h){buttons[g]=new wI(g);}} value( h){var g=buttons[h];if(g==null){return 0.0;}return g.value;}}class ZE{final  OD;final  aB;final  sB;final  time;ZE(this.sB,this.OD,this.aB,this.time); toString()=>'Button: ${sB} DOWN: ${OD} [${aB}@${time}]';}class ZF{final  KB;final  buttons=new Map<int,zI>();var BF;ZF(this.KB, h){for(int g in h){buttons[g]=new zI(g);}} GK( h){var g=buttons[h.sB];if(g==null){return;}if(BF!=null){if(BF(h,g.OD)==false){return;}}if(h.OD){if(g.OD==false){g.KK=h.aB;g.LR=h.time;}}else{g.LK=h.aB;g.MR=h.time;}}}class lC{static const BJ=0x1;static const CJ=0x2;static const DJ=0x3;final  event;final  type;lC(this.event,this.type);}class AJ{final  KB;AJ(this.KB){KB.element.onClick.listen(DW);CB.document.onPointerLockChange.listen(EW);} zQ(){KB.element.requestPointerLock();} DW( g){if(UK){zQ();}}var UK=true; EW( g){if(KB.onPointerLockChange!=null){KB.onPointerLockChange(KB);}}}class rL{final  x;final  y;final  dx;final  dy;final  XG;final  YG;final  time;final  fI;final  aB;rL(this.x,this.y,this.dx,this.dy,this.XG,this.YG,this.fI,this.time,this.aB);}class sL{final  KB;var buttons;var rS;sL(this.KB){}}typedef  tL( gameLoop);class RC extends ZF{static const aF=CB.KeyCode.A;static const vL=CB.KeyCode.B;static const wL=CB.KeyCode.C;static const xL=CB.KeyCode.D;static const zL=CB.KeyCode.E;static const AM=CB.KeyCode.F;static const BM=CB.KeyCode.G;static const DM=CB.KeyCode.H;static const EM=CB.KeyCode.I;static const GM=CB.KeyCode.J;static const IM=CB.KeyCode.K;static const KM=CB.KeyCode.L;static const MM=CB.KeyCode.M;static const OM=CB.KeyCode.N;static const PM=CB.KeyCode.O;static const QM=CB.KeyCode.P;static const HJ=CB.KeyCode.Q;static const RM=CB.KeyCode.R;static const SM=CB.KeyCode.S;static const TM=CB.KeyCode.T;static const UM=CB.KeyCode.U;static const VM=CB.KeyCode.V;static const WM=CB.KeyCode.W;static const XM=CB.KeyCode.X;static const YM=CB.KeyCode.Y;static const bF=CB.KeyCode.Z;static const ZM=CB.KeyCode.SHIFT;static const aM=CB.KeyCode.CTRL;static const bM=CB.KeyCode.ALT;static const IJ=CB.KeyCode.SPACE;static const cM=CB.KeyCode.ZERO;static const dM=CB.KeyCode.ONE;static const eM=CB.KeyCode.TWO;static const fM=CB.KeyCode.THREE;static const gM=CB.KeyCode.FOUR;static const hM=CB.KeyCode.FIVE;static const iM=CB.KeyCode.SIX;static const jM=CB.KeyCode.SEVEN;static const kM=CB.KeyCode.EIGHT;static const lM=CB.KeyCode.NINE;static const mM=CB.KeyCode.TILDE;static const JJ=CB.KeyCode.ENTER;static const nM=CB.KeyCode.UP;static const oM=CB.KeyCode.DOWN;static const FM=CB.KeyCode.LEFT;static const JM=CB.KeyCode.RIGHT;static const KJ=CB.KeyCode.ESC;static final  LM=[aF,vL,wL,xL,zL,AM,BM,DM,EM,GM,IM,KM,MM,OM,PM,QM,HJ,RM,SM,TM,UM,VM,WM,XM,YM,bF,ZM,aM,bM,IJ,cM,dM,eM,fM,gM,hM,iM,jM,kM,lM,mM,JJ,nM,oM,FM,JM,KJ];RC(g):super(g,LM);}typedef  uL( gameLoop);class EJ implements yI{final  x;final  y;final  dx;final  dy;final  time;final  aB;EJ(this.x,this.y,this.dx,this.dy,this.time,this.aB);}typedef  yL( gameLoop);typedef  CM( gameLoop);class FJ extends ZF implements yI{static const FM=0;static const HM=1;static const JM=2;static final  LM=[FM,HM,JM];var HW=0; get dx=>HW;var LW=0; get dy=>LW;var PW=0; get x=>PW;var QW=0; get y=>QW;var RW=0; get XG=>RW;var UW=0; get YG=>UW;var VW=0;var YW=0;var ZW=false; get fI=>ZW;var bW=0.0; get time=>bW;var fW=0; get aB=>fW;FJ(g):super(g,LM); WQ( g){PW=g.x;QW=g.y;bW=g.time;fW=g.aB;HW+= g.dx;LW+= g.dy;RW=g.XG;UW=g.YG;ZW=g.fI;} lW( h, g){VW+= h;YW+= g;} mW(){VW=0;YW=0;HW=0;LW=0;}}typedef  GJ( gameLoop, touch);class ZC{final  id;final  sH=new List<EJ>();ZC(this.id);}class wD extends bB{final  element;var FW=0;var GW=false;var IW=false;var JW;var KW=0.0;var MW=false;var NW=0.0; get aB=>FW;var WH=0.03;var SW=0.0; get width=>element.client.width; get height=>element.client.height;var WW=0.0; get NK=>WW;var XW=0.0;var AR=0.05;var aW; get wQ=>aW;var dW; get RK=>dW;var gW; get tQ=>gW;var hW;var iW=new CB.Point(0,0);var jW;wD(this.element):super(){dW=new RC(this);gW=new FJ(this);hW=new sL(this);aW=new AJ(this);jW=new NM(this);} nW(){oW();qW();rW();} oW(){for(CB.KeyboardEvent g in sW){var h;var k=g.type=="keydown";var j=bB.YF(g.timeStamp);var i=g.keyCode;h=new ZE(i,k,aB,j);dW.GK(h);}sW.clear();} qW(){tQ.mW();final XC=CB.document.documentElement;final CD=element.getBoundingClientRect();var k=(CD.left+CB.window.pageXOffset-XC.clientLeft).floor();var m=(CD.top+CB.window.pageYOffset-XC.clientTop).floor();for(CB.MouseEvent g in tW){var OF=g.type=='mousemove';var RR=g.type=='mousewheel';var SR=g.type=='mousedown';var uB=bB.YF(g.timeStamp);if(OF){var q=g.page.x;var o=g.page.y;var DB=q-k;var TB=o-m;var j=0;var h=0;var i=false;if(q<k){j=0;}else if(q>k+width){j=width;}else{j=DB;i=true;}if(o<m){h=0;i=false;}else if(o>m+height){h=height;i=false;}else{h=TB;}var TR=g.client.x-iW.x;var UR=g.client.y-iW.y;iW=g.client;var p=new rL(DB,TB,TR,UR,j,h,i,uB,aB);gW.WQ(p);}else if(RR){var w=g as CB.WheelEvent;gW.lW(w.deltaX,w.deltaY);}else{var VR=g.button;var p=new ZE(VR,SR,aB,uB);gW.GK(p);}}tW.clear();} rW(){for(lC g in uW){switch (g.type){case lC.DJ:jW.TW(g.event);break;case lC.CJ:jW.eW(g.event);break;case lC.BJ:jW.kW(g.event);break;default:throw new StateError('Invalid _GameLoopTouchEven type.');}}uW.clear();}var vW; wW( xW){if(JW==null){KW=time;JW=KW;nW();vW=CB.window.requestAnimationFrame(wW);return;}if(IW==true){vW=null;return;}vW=CB.window.requestAnimationFrame(wW);FW++ ;JW=KW;KW=time;var g=KW-JW;SW+= g;if(SW>WH){SW=WH;}nW();while (SW>=VE){xQ();WW+= VE;if(fH!=null){fH(this);}SW-= VE;}if(MW==true&&onResize!=null&&NW<=KW){onResize(this);NW=KW+AR;MW=false;}if(dH!=null){XW=SW/VE;dH(this);}} yW( xW){if(onFullscreenChange==null){return;}onFullscreenChange(this);} zW( xW){if(onFullscreenChange==null){return;}onFullscreenChange(this);}final  uW=new List<lC>(); AX( g){uW.add(new lC(g,lC.DJ));g.preventDefault();} BX( g){uW.add(new lC(g,lC.BJ));g.preventDefault();} CX( g){uW.add(new lC(g,lC.CJ));g.preventDefault();}final  sW=new List<CB.KeyboardEvent>(); DX( g){sW.add(g);} EX( g){sW.add(g);}final  tW=new List<CB.MouseEvent>(); FX( g){tW.add(g);} GX( g){tW.add(g);} HX( g){tW.add(g);} IX( g){tW.add(g);g.preventDefault();} JX( xW){if(MW==false){MW=true;}} start(){if(GW==false){CB.document.onFullscreenError.listen(zW);CB.document.onFullscreenChange.listen(yW);CB.window.onTouchStart.listen(AX);CB.window.onTouchEnd.listen(CX);CB.window.onTouchCancel.listen(CX);CB.window.onTouchMove.listen(BX);CB.window.onKeyDown.listen(DX);CB.window.onKeyUp.listen(EX);CB.window.onResize.listen(JX);CB.window.onMouseMove.listen(HX);CB.window.onMouseDown.listen(FX);CB.window.onMouseUp.listen(GX);CB.window.onMouseWheel.listen(IX);GW=true;}IW=false;vW=CB.window.requestAnimationFrame(wW);} stop(){if(vW!=null){CB.window.cancelAnimationFrame(vW);vW=null;}IW=true;} get NE=>CB.document.visibilityState=='visible'&&element.hidden==false;var dH;var onResize;var onFullscreenChange;var onPointerLockChange;var onTouchStart;var onTouchEnd;}class NM{final  eC=new Map<int,ZC>();final  KB;NM(this.KB); OW( i, g){var h=new EJ(g.page.x,g.page.y,0,0,KB.NK,KB.aB);i.sH.add(h);} TW( i){i.changedTouches.forEach(( g){var h=new ZC(g.identifier);if(eC[g.identifier]!=null){return;}assert(eC[g.identifier]==null);eC[g.identifier]=h;OW(h,g);if(KB.onTouchStart!=null){KB.onTouchStart(KB,h);}});cW(i.touches);} eW( i){i.changedTouches.forEach(( h){var g=eC[h.identifier];if(g==null){return;}assert(g!=null);eC.remove(h.identifier);OW(g,h);if(KB.onTouchEnd!=null){KB.onTouchEnd(KB,g);}});cW(i.touches);} kW( h){h.changedTouches.forEach(( g){var i=eC[g.identifier];OW(i,g);});cW(h.touches);} pW( h,i){for(int g=0;g<h.length;g++ ){if(h[g].identifier==i){return true;}}return false;}cW( g){if(g.length!=eC.length){print('${g.length} ${eC.length}');}eC.forEach((h,i){if(!pW(g,h)){print('Did not find ${h}');}});}}class pM extends qM{var KX;var NX;var PX;var QX;var RX;var SX;var TX;var UX; get key=>XD["key"];pM([ g]):super(g){LD="/games/v1/";bD="https://www.googleapis.com/";KX=new rM(this);NX=new tM(this);PX=new vM(this);QX=new yM(this);RX=new AN(this);SX=new CN(this);TX=new EN(this);UX=new KN(this);}}abstract class qM extends GC{final  LX;var MX=false;qM([ this.LX]):super(); OX(){var g=new v.Completer();if(MX){g.complete(true);return g.future;}eD((){aC.fQ=new MS.BT((){MX=true;g.complete(true);});});var h=new CB.ScriptElement();h.src="http://apis.google.com/js/client.js?onload=handleClientLoad";h.type="text/javascript";CB.document.body.children.add(h);return g.future;} VX( m, q,{ body, contentType, queryParams}){var h=new v.Completer();var g=new Map();g["path"]=m;g["method"]=q;g["headers"]=new Map();if(queryParams!=null){g["params"]=queryParams;}if(body!=null){g["body"]=body;g["headers"]["Content-Type"]=contentType;}if(hC&&LX!=null&&LX.gB!=null){g["headers"]["Authorization"]="${LX.gB.type} ${LX.gB.data}";}eD((){var k=aC.bQ.client.request(cJ(g));var p=new MS.BT((j,o){if(j==null||(j is bool&&j==false)){var i=t.parse(o);if(i["gapiRequest"]["data"]["status"]>=400){h.completeError(new FS("JS Client - ${i["gapiRequest"]["data"]["status"]} ${i["gapiRequest"]["data"]["statusText"]} - ${i["gapiRequest"]["data"]["body"]}"));}else{h.complete({});}}else{h.complete(aC.xJ.stringify(j));}});k.UQ(p);});return h.future;} request( i, w,{ body, contentType: "application/json", urlParams, queryParams}){var g=new CB.HttpRequest();var k=new v.Completer();if(urlParams==null)urlParams={};if(queryParams==null)queryParams={};XD.forEach((q,DB){if(DB!=null&&queryParams[q]==null){queryParams[q]=DB;}});var j;if(i.substring(0,1)=="/"){j="${bD}${i.substring(1)}";}else{j="${bD}${LD.substring(1)}${i}";}var p=new KS(j).generate(urlParams,queryParams);g.onLoadEnd.listen((WX){if(g.status>0&&g.status<400){var o={};if(!g.responseText.isEmpty){o=t.parse(g.responseText);}k.complete(o);}else{if(g.status==0){OX().then((XC){if(i.substring(0,1)=="/"){j=i;}else{j="${LD}${i}";}p=new KS(j).generate(urlParams,{});VX(p,w,body:body,contentType:contentType,queryParams:queryParams).then((uB){var o=t.parse(uB);k.complete(o);}).catchError((TB){k.completeError(TB);return true;});});}else{var m="";if(g.responseText!=null){var h;try {h=t.parse(g.responseText);}on FormatException {h=null;}if(h!=null&&h.containsKey("error")){m="${h["error"]["code"]} ${h["error"]["message"]}";}}if(m==""){m="${g.status} ${g.statusText}";}k.completeError(new FS(m));}}});g.open(w,p);g.setRequestHeader("Content-Type",contentType);if(hC&&LX!=null){LX.sE(g).then((g)=>g.send(body));}else{g.send(body);}return k.future;}}class rM extends mC{rM( g):super(g){} list({ language, maxResults, pageToken, optParams}){var h=new v.Completer();var w="achievements";var q=new Map();var g=new Map();var m=new List();if(language!=null)g["language"]=language;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(optParams!=null){optParams.forEach((k,i){if(i!=null&&g[k]==null){g[k]=i;}});}if(!m.isEmpty){h.completeError(new ArgumentError(m.join(" / ")));return h.future;}var j;j=XX.request(w,"GET",urlParams:q,queryParams:g);j.then((p)=>h.complete(new uM.yS(p))).catchError((o){h.completeError(o);return true;});return h.future;}}class sM{var JE;var description;var yG;var id;var JH;var kind;var name;var DI;var ZI;var bI;sM.yS( g){if(g.containsKey("achievementType")){JE=g["achievementType"];}if(g.containsKey("description")){description=g["description"];}if(g.containsKey("formattedTotalSteps")){yG=g["formattedTotalSteps"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("initialState")){JH=g["initialState"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("revealedIconUrl")){DI=g["revealedIconUrl"];}if(g.containsKey("totalSteps")){ZI=g["totalSteps"];}if(g.containsKey("unlockedIconUrl")){bI=g["unlockedIconUrl"];}} l(){var g=new Map();if(JE!=null){g["achievementType"]=JE;}if(description!=null){g["description"]=description;}if(yG!=null){g["formattedTotalSteps"]=yG;}if(id!=null){g["id"]=id;}if(JH!=null){g["initialState"]=JH;}if(kind!=null){g["kind"]=kind;}if(name!=null){g["name"]=name;}if(DI!=null){g["revealedIconUrl"]=DI;}if(ZI!=null){g["totalSteps"]=ZI;}if(bI!=null){g["unlockedIconUrl"]=bI;}return g;} toString()=>t.stringify(this.l());}abstract class GC{var LD;var bD;var hC;var XD;GC(){XD=new Map();hC=false;} request( g, h,{ body, contentType: "application/json", urlParams, queryParams});}class tM extends mC{tM( g):super(g){} list( j,{ language, maxResults, pageToken, state, optParams}){var h=new v.Completer();var DB="players/{playerId}/achievements";var p=new Map();var g=new Map();var i=new List();if(language!=null)g["language"]=language;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(j==null)i.add("playerId is required");if(j!=null)p["playerId"]=j;if(state!=null&&!["ALL","HIDDEN","REVEALED","UNLOCKED"].contains(state)){i.add("Allowed values for state: ALL, HIDDEN, REVEALED, UNLOCKED");}if(state!=null)g["state"]=state;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&g[o]==null){g[o]=k;}});}if(!i.isEmpty){h.completeError(new ArgumentError(i.join(" / ")));return h.future;}var m;m=XX.request(DB,"GET",urlParams:p,queryParams:g);m.then((w)=>h.complete(new NN.yS(w))).catchError((q){h.completeError(q);return true;});return h.future;}}abstract class mC{var XX;mC( this.XX);}class FS implements Exception{final  msg;const FS([this.msg]); toString()=>(msg==null)?"APIRequestException":"APIRequestException: ${msg}";}class uM{var items;var kind;var GB;uM.yS( g){if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new sM.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}} l(){var g=new Map();if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}return g;} toString()=>t.stringify(this.l());}class vM extends mC{vM( g):super(g){}v.Future<xM> get( j,{ language, platformType, optParams}){var g=new v.Completer();var DB="applications/{applicationId}";var p=new Map();var h=new Map();var i=new List();if(j==null)i.add("applicationId is required");if(j!=null)p["applicationId"]=j;if(language!=null)h["language"]=language;if(platformType!=null&&!["ANDROID","IOS","WEB_APP"].contains(platformType)){i.add("Allowed values for platformType: ANDROID, IOS, WEB_APP");}if(platformType!=null)h["platformType"]=platformType;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&h[o]==null){h[o]=k;}});}if(!i.isEmpty){g.completeError(new ArgumentError(i.join(" / ")));return g.future;}var m;m=XX.request(DB,"GET",urlParams:p,queryParams:h);m.then((w)=>g.complete(new xM.yS(w))).catchError((q){g.completeError(q);return true;});return g.future;}}class wM{var KD;var FB;var kind;wM.yS( g){if(g.containsKey("avatarImageUrl")){KD=g["avatarImageUrl"];}if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("kind")){kind=g["kind"];}} l(){var g=new Map();if(KD!=null){g["avatarImageUrl"]=KD;}if(FB!=null){g["displayName"]=FB;}if(kind!=null){g["kind"]=kind;}return g;} toString()=>t.stringify(this.l());}class xM{var BG;var ZB;var tC;var VG;var description;var id;var AF;var kind;var UD;var QH;var name;xM.yS( g){if(g.containsKey("achievement_count")){BG=g["achievement_count"];}if(g.containsKey("assets")){ZB=[] ;g["assets"].forEach((h){ZB.add(new BN.yS(h));});}if(g.containsKey("author")){tC=g["author"];}if(g.containsKey("category")){VG=new zM.yS(g["category"]);}if(g.containsKey("description")){description=g["description"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("instances")){AF=[] ;g["instances"].forEach((h){AF.add(new DN.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("lastUpdatedTimestamp")){UD=g["lastUpdatedTimestamp"];}if(g.containsKey("leaderboard_count")){QH=g["leaderboard_count"];}if(g.containsKey("name")){name=g["name"];}} l(){var g=new Map();if(BG!=null){g["achievement_count"]=BG;}if(ZB!=null){g["assets"]=new List();ZB.forEach((h){g["assets"].add(h.l());});}if(tC!=null){g["author"]=tC;}if(VG!=null){g["category"]=VG.l();}if(description!=null){g["description"]=description;}if(id!=null){g["id"]=id;}if(AF!=null){g["instances"]=new List();AF.forEach((h){g["instances"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(UD!=null){g["lastUpdatedTimestamp"]=UD;}if(QH!=null){g["leaderboard_count"]=QH;}if(name!=null){g["name"]=name;}return g;} toString()=>t.stringify(this.l());}class yM extends mC{yM( g):super(g){}v.Future<LJ> get( i,{ language, optParams}){var g=new v.Completer();var DB="leaderboards/{leaderboardId}";var p=new Map();var h=new Map();var j=new List();if(language!=null)h["language"]=language;if(i==null)j.add("leaderboardId is required");if(i!=null)p["leaderboardId"]=i;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&h[o]==null){h[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=XX.request(DB,"GET",urlParams:p,queryParams:h);m.then((w)=>g.complete(new LJ.yS(w))).catchError((q){g.completeError(q);return true;});return g.future;} list({ language, maxResults, pageToken, optParams}){var h=new v.Completer();var w="leaderboards";var q=new Map();var g=new Map();var m=new List();if(language!=null)g["language"]=language;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(optParams!=null){optParams.forEach((k,i){if(i!=null&&g[k]==null){g[k]=i;}});}if(!m.isEmpty){h.completeError(new ArgumentError(m.join(" / ")));return h.future;}var j;j=XX.request(w,"GET",urlParams:q,queryParams:g);j.then((p)=>h.complete(new JN.yS(p))).catchError((o){h.completeError(o);return true;});return h.future;}}class zM{var kind;var oB;var KI;zM.yS( g){if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("primary")){oB=g["primary"];}if(g.containsKey("secondary")){KI=g["secondary"];}} l(){var g=new Map();if(kind!=null){g["kind"]=kind;}if(oB!=null){g["primary"]=oB;}if(KI!=null){g["secondary"]=KI;}return g;} toString()=>t.stringify(this.l());}class AN extends mC{AN( g):super(g){}v.Future<cF> get( h,{ optParams}){var g=new v.Completer();var DB="players/{playerId}";var p=new Map();var i=new Map();var j=new List();if(h==null)j.add("playerId is required");if(h!=null)p["playerId"]=h;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&i[o]==null){i[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=XX.request(DB,"GET",urlParams:p,queryParams:i);m.then((w)=>g.complete(new cF.yS(w))).catchError((q){g.completeError(q);return true;});return g.future;}}class BN{var height;var kind;var name;var url;var width;BN.yS( g){if(g.containsKey("height")){height=g["height"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}} l(){var g=new Map();if(height!=null){g["height"]=height;}if(kind!=null){g["kind"]=kind;}if(name!=null){g["name"]=name;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}return g;} toString()=>t.stringify(this.l());}class CN extends mC{CN( g):super(g){}}class DN{var CG;var IG;var KH;var kind;var name;var mH;var zH;var aI;var eI;DN.yS( g){if(g.containsKey("acquisitionUri")){CG=g["acquisitionUri"];}if(g.containsKey("androidInstance")){IG=new GN.yS(g["androidInstance"]);}if(g.containsKey("iosInstance")){KH=new HN.yS(g["iosInstance"]);}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("platformType")){mH=g["platformType"];}if(g.containsKey("realtimePlay")){zH=g["realtimePlay"];}if(g.containsKey("turnBasedPlay")){aI=g["turnBasedPlay"];}if(g.containsKey("webInstance")){eI=new IN.yS(g["webInstance"]);}} l(){var g=new Map();if(CG!=null){g["acquisitionUri"]=CG;}if(IG!=null){g["androidInstance"]=IG.l();}if(KH!=null){g["iosInstance"]=KH.l();}if(kind!=null){g["kind"]=kind;}if(name!=null){g["name"]=name;}if(mH!=null){g["platformType"]=mH;}if(zH!=null){g["realtimePlay"]=zH;}if(aI!=null){g["turnBasedPlay"]=aI;}if(eI!=null){g["webInstance"]=eI.l();}return g;} toString()=>t.stringify(this.l());}class EN extends mC{EN( g):super(g){}v.Future<NJ> get( i,{ language, optParams}){var g=new v.Completer();var DB="rooms/{roomId}";var p=new Map();var h=new Map();var j=new List();if(language!=null)h["language"]=language;if(i==null)j.add("roomId is required");if(i!=null)p["roomId"]=i;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&h[o]==null){h[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=XX.request(DB,"GET",urlParams:p,queryParams:h);m.then((w)=>g.complete(new NJ.yS(w))).catchError((q){g.completeError(q);return true;});return g.future;} list({ language, maxResults, pageToken, optParams}){var h=new v.Completer();var w="rooms";var q=new Map();var g=new Map();var m=new List();if(language!=null)g["language"]=language;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(optParams!=null){optParams.forEach((k,i){if(i!=null&&g[k]==null){g[k]=i;}});}if(!m.isEmpty){h.completeError(new ArgumentError(m.join(" / ")));return h.future;}var j;j=XX.request(w,"GET",urlParams:q,queryParams:g);j.then((p)=>h.complete(new QN.yS(p))).catchError((o){h.completeError(o);return true;});return h.future;}}class GN{var sG;var kind;var hH;GN.yS( g){if(g.containsKey("enablePiracyCheck")){sG=g["enablePiracyCheck"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("packageName")){hH=g["packageName"];}} l(){var g=new Map();if(sG!=null){g["enablePiracyCheck"]=sG;}if(kind!=null){g["kind"]=kind;}if(hH!=null){g["packageName"]=hH;}return g;} toString()=>t.stringify(this.l());}class HN{var TG;var MH;var kind;var OI;var QI;HN.yS( g){if(g.containsKey("bundleIdentifier")){TG=g["bundleIdentifier"];}if(g.containsKey("itunesAppId")){MH=g["itunesAppId"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("supportIpad")){OI=g["supportIpad"];}if(g.containsKey("supportIphone")){QI=g["supportIphone"];}} l(){var g=new Map();if(TG!=null){g["bundleIdentifier"]=TG;}if(MH!=null){g["itunesAppId"]=MH;}if(kind!=null){g["kind"]=kind;}if(OI!=null){g["supportIpad"]=OI;}if(QI!=null){g["supportIphone"]=QI;}return g;} toString()=>t.stringify(this.l());}class IN{var kind;var OH;IN.yS( g){if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("launchUrl")){OH=g["launchUrl"];}} l(){var g=new Map();if(kind!=null){g["kind"]=kind;}if(OH!=null){g["launchUrl"]=OH;}return g;} toString()=>t.stringify(this.l());}class LJ{var HH;var id;var kind;var name;var order;LJ.yS( g){if(g.containsKey("iconUrl")){HH=g["iconUrl"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("order")){order=g["order"];}} l(){var g=new Map();if(HH!=null){g["iconUrl"]=HH;}if(id!=null){g["id"]=id;}if(kind!=null){g["kind"]=kind;}if(name!=null){g["name"]=name;}if(order!=null){g["order"]=order;}return g;} toString()=>t.stringify(this.l());}class MJ{var wG;var xG;var kind;var YD;var II;var JI;var WI;var hI;MJ.yS( g){if(g.containsKey("formattedScore")){wG=g["formattedScore"];}if(g.containsKey("formattedScoreRank")){xG=g["formattedScoreRank"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("player")){YD=new cF.yS(g["player"]);}if(g.containsKey("scoreRank")){II=g["scoreRank"];}if(g.containsKey("scoreValue")){JI=g["scoreValue"];}if(g.containsKey("timeSpan")){WI=g["timeSpan"];}if(g.containsKey("writeTimestampMillis")){hI=g["writeTimestampMillis"];}} l(){var g=new Map();if(wG!=null){g["formattedScore"]=wG;}if(xG!=null){g["formattedScoreRank"]=xG;}if(kind!=null){g["kind"]=kind;}if(YD!=null){g["player"]=YD.l();}if(II!=null){g["scoreRank"]=II;}if(JI!=null){g["scoreValue"]=JI;}if(WI!=null){g["timeSpan"]=WI;}if(hI!=null){g["writeTimestampMillis"]=hI;}return g;} toString()=>t.stringify(this.l());}class JN{var items;var kind;var GB;JN.yS( g){if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new LJ.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}} l(){var g=new Map();if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}return g;} toString()=>t.stringify(this.l());}class KN extends mC{KN( g):super(g){} list( m, j, k,{ language, maxResults, pageToken, optParams}){var i=new v.Completer();var DB="leaderboards/{leaderboardId}/scores/{collection}";var o=new Map();var h=new Map();var g=new List();if(j==null)g.add("collection is required");if(j!=null&&!["PUBLIC","SOCIAL"].contains(j)){g.add("Allowed values for collection: PUBLIC, SOCIAL");}if(j!=null)o["collection"]=j;if(language!=null)h["language"]=language;if(m==null)g.add("leaderboardId is required");if(m!=null)o["leaderboardId"]=m;if(maxResults!=null)h["maxResults"]=maxResults;if(pageToken!=null)h["pageToken"]=pageToken;if(k==null)g.add("timeSpan is required");if(k!=null&&!["ALL_TIME","DAILY","WEEKLY"].contains(k)){g.add("Allowed values for timeSpan: ALL_TIME, DAILY, WEEKLY");}if(k!=null)h["timeSpan"]=k;if(optParams!=null){optParams.forEach((p,q){if(q!=null&&h[p]==null){h[p]=q;}});}if(!g.isEmpty){i.completeError(new ArgumentError(g.join(" / ")));return i.future;}var w;w=XX.request(DB,"GET",urlParams:o,queryParams:h);w.then((uB)=>i.complete(new LN.yS(uB))).catchError((TB){i.completeError(TB);return true;});return i.future;}}class LN{var items;var kind;var GB;var cH;var oH;var vH;LN.yS( g){if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new MJ.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}if(g.containsKey("numScores")){cH=g["numScores"];}if(g.containsKey("playerScore")){oH=new MJ.yS(g["playerScore"]);}if(g.containsKey("prevPageToken")){vH=g["prevPageToken"];}} l(){var g=new Map();if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}if(cH!=null){g["numScores"]=cH;}if(oH!=null){g["playerScore"]=oH.l();}if(vH!=null){g["prevPageToken"]=vH;}return g;} toString()=>t.stringify(this.l());}class cF{var KD;var FB;var kind;var nH;cF.yS( g){if(g.containsKey("avatarImageUrl")){KD=g["avatarImageUrl"];}if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("playerId")){nH=g["playerId"];}} l(){var g=new Map();if(KD!=null){g["avatarImageUrl"]=KD;}if(FB!=null){g["displayName"]=FB;}if(kind!=null){g["kind"]=kind;}if(nH!=null){g["playerId"]=nH;}return g;} toString()=>t.stringify(this.l());}class MN{var AG;var lG;var vG;var id;var kind;var UD;MN.yS( g){if(g.containsKey("achievementState")){AG=g["achievementState"];}if(g.containsKey("currentSteps")){lG=g["currentSteps"];}if(g.containsKey("formattedCurrentStepsString")){vG=g["formattedCurrentStepsString"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("lastUpdatedTimestamp")){UD=g["lastUpdatedTimestamp"];}} l(){var g=new Map();if(AG!=null){g["achievementState"]=AG;}if(lG!=null){g["currentSteps"]=lG;}if(vG!=null){g["formattedCurrentStepsString"]=vG;}if(id!=null){g["id"]=id;}if(kind!=null){g["kind"]=kind;}if(UD!=null){g["lastUpdatedTimestamp"]=UD;}return g;} toString()=>t.stringify(this.l());}class NN{var items;var kind;var GB;NN.yS( g){if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new MN.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}} l(){var g=new Map();if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}return g;} toString()=>t.stringify(this.l());}class NJ{var KG;var OG;var iG;var description;var kind;var NH;var EF;var FI;var GI;var status;var cI;NJ.yS( g){if(g.containsKey("applicationId")){KG=g["applicationId"];}if(g.containsKey("autoMatchingCriteria")){OG=new ON.yS(g["autoMatchingCriteria"]);}if(g.containsKey("creationDetails")){iG=new OJ.yS(g["creationDetails"]);}if(g.containsKey("description")){description=g["description"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("lastUpdateDetails")){NH=new OJ.yS(g["lastUpdateDetails"]);}if(g.containsKey("participants")){EF=[] ;g["participants"].forEach((h){EF.add(new RN.yS(h));});}if(g.containsKey("roomId")){FI=g["roomId"];}if(g.containsKey("roomStatusVersion")){GI=g["roomStatusVersion"];}if(g.containsKey("status")){status=g["status"];}if(g.containsKey("variant")){cI=g["variant"];}} l(){var g=new Map();if(KG!=null){g["applicationId"]=KG;}if(OG!=null){g["autoMatchingCriteria"]=OG.l();}if(iG!=null){g["creationDetails"]=iG.l();}if(description!=null){g["description"]=description;}if(kind!=null){g["kind"]=kind;}if(NH!=null){g["lastUpdateDetails"]=NH.l();}if(EF!=null){g["participants"]=new List();EF.forEach((h){g["participants"].add(h.l());});}if(FI!=null){g["roomId"]=FI;}if(GI!=null){g["roomStatusVersion"]=GI;}if(status!=null){g["status"]=status;}if(cI!=null){g["variant"]=cI;}return g;} toString()=>t.stringify(this.l());}class ON{var tG;var kind;var XH;var ZH;ON.yS( g){if(g.containsKey("exclusiveBitmask")){tG=g["exclusiveBitmask"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("maxAutoMatchingPlayers")){XH=g["maxAutoMatchingPlayers"];}if(g.containsKey("minAutoMatchingPlayers")){ZH=g["minAutoMatchingPlayers"];}} l(){var g=new Map();if(tG!=null){g["exclusiveBitmask"]=tG;}if(kind!=null){g["kind"]=kind;}if(XH!=null){g["maxAutoMatchingPlayers"]=XH;}if(ZH!=null){g["minAutoMatchingPlayers"]=ZH;}return g;} toString()=>t.stringify(this.l());}class PN{var kind;var iI;PN.yS( g){if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("xmppAddress")){iI=g["xmppAddress"];}} l(){var g=new Map();if(kind!=null){g["kind"]=kind;}if(iI!=null){g["xmppAddress"]=iI;}return g;} toString()=>t.stringify(this.l());}class QN{var items;var kind;var GB;QN.yS( g){if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new NJ.yS(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}} l(){var g=new Map();if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}return g;} toString()=>t.stringify(this.l());}class OJ{var kind;var aH;var jH;OJ.yS( g){if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("modifiedTimestampMillis")){aH=g["modifiedTimestampMillis"];}if(g.containsKey("participantId")){jH=g["participantId"];}} l(){var g=new Map();if(kind!=null){g["kind"]=kind;}if(aH!=null){g["modifiedTimestampMillis"]=aH;}if(jH!=null){g["participantId"]=jH;}return g;} toString()=>t.stringify(this.l());}class RN{var NG;var bG;var cG;var id;var kind;var RH;var YD;var status;RN.yS( g){if(g.containsKey("autoMatchedPlayer")){NG=new wM.yS(g["autoMatchedPlayer"]);}if(g.containsKey("clientAddress")){bG=new PN.yS(g["clientAddress"]);}if(g.containsKey("connected")){cG=g["connected"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("leaveReason")){RH=g["leaveReason"];}if(g.containsKey("player")){YD=new cF.yS(g["player"]);}if(g.containsKey("status")){status=g["status"];}} l(){var g=new Map();if(NG!=null){g["autoMatchedPlayer"]=NG.l();}if(bG!=null){g["clientAddress"]=bG.l();}if(cG!=null){g["connected"]=cG;}if(id!=null){g["id"]=id;}if(kind!=null){g["kind"]=kind;}if(RH!=null){g["leaveReason"]=RH;}if(YD!=null){g["player"]=YD.l();}if(status!=null){g["status"]=status;}return g;} toString()=>t.stringify(this.l());}typedef  PJ( subject, args);class YB{final  type;final  data;final  wE; get HK=>iX; get kK=>mX;var iX;var mX;YB( this.type, this.data, this.wE);factory YB.zS( i){final g=t.parse(i);final h=new YB(g['type'],g['data'],new DateTime.fromMillisecondsSinceEpoch(g['expiry']));h.iX=g['email'];h.mX=g['userId'];return h;} get uG=>new DateTime.now().compareTo(wE)>0; toString()=>"[Token type=${type}, data=${data}, expired=${uG}, " "expiry=${wE}, email=${HK}, userId=${kK}]"; validate( k,{ service: "https://www.googleapis.com/oauth2/v1/tokeninfo"}){var o=new KS(service).generate({},{"access_token":data});var j=new v.Completer();var g=new CB.HttpRequest();g.onLoadEnd.listen(( p){if(g.status==200){j.complete(g.responseText);}});g.open("GET",o);g.send();return j.future.then((m){final h=t.parse(m);final i=k==h['audience'];if(i){iX=h['email'];mX=h['user_id'];}return i;});} l(){return t.stringify({"type":type,"data":data,"expiry":wE.millisecondsSinceEpoch,"email":HK,"userId":kK});}static  UN( j){if(j==null){throw new Exception("No auth token data");}var g={};for(String h in VN(j)){if(h.isEmpty){continue;}var i=h.indexOf('=');if(i<0){g[h]="";}else{g[h.substring(0,i)]=h.substring(i+1);}}if(g.containsKey('error')){throw new IS(g['error'],g);}for(String k in ['access_token','token_type','expires_in']){if(!g.containsKey(k)){throw new Exception("Missing parameter ${k}");}}var m=new Duration(seconds:int.parse(g['expires_in'])-20);return new YB(g['token_type'],g['access_token'],new DateTime.now().add(m));}static  VN( j){final g=Uri.parse(j);final h=[] ;[g.path,g.query,g.fragment].forEach((i){if(i!=null)h.addAll(WN(i));});return h;}static  WN( g){return g.isEmpty?[] :g.split('&');}}abstract class nC{var gB;nC(); sE( g);}class GS extends nC{var YX;var ZX;var aX;var bX;var cX;var eX;var hX;var jX;var kX;GS( this.YX, this.ZX,{ request_visible_actions: null, provider: "https://accounts.google.com/o/oauth2/",tokenLoaded( token), autoLogin: false}):bX=provider,cX=tokenLoaded,aX=request_visible_actions,super(){eX=uX();if(autoLogin){VH(immediate:true).then((h)=>print("Automatic login successful")).catchError((g)=>print("${g}"));}} uX(){final h=new v.Completer<QJ>();var g;g=new QJ(bX,(j,k){switch (j){case "oauth2relayReady":h.complete(g);break;case "oauth2callback":try {var m=YB.UN(k[0]);jX.complete(m);}catch (i){jX.completeError(i);}break;}});return h.future;} vX( h){var g={"response_type":"token","client_id":YX,"origin":CB.window.location.origin,"redirect_uri":"postmessage","scope":ZX.join(" "),"immediate":h};if(aX!=null&&aX.length>0){g["request_visible_actions"]=aX.join(" ");}return new KS("${bX}auth").generate({},g);} VH({immediate: null}){if(gB!=null){if(gB.uG){if(immediate==null){immediate=true;}}else{return new v.Future<YB>.value(gB);}}if(immediate==null){immediate=false;}if(hX!=null){if(!immediate){var k=new v.Completer<YB>();hX.then((i)=>k.complete(i)).catchError((g){VH(immediate:immediate).then((i)=>k.complete(i)).catchError((g)=>k.completeError(g));});return k.future;}}else{var h=new v.Completer();h.future.then((w){hX=null;wX=w;}).catchError((g){hX=null;wX=null;});hX=h.future;m(){jX=xX(h);eX.then((i){var o=vX(immediate);if(immediate){var p=RJ(o);jX.future.whenComplete(()=>p.remove());}else{var q=SN(o);new HS(jX,q).ZK();}}).catchError((g){return jX.completeError(g);});}final j=yX;if((j!=null)&&!j.uG){j.validate(YX).then((DB)=>h.complete(j)).catchError((g)=>m());}else{m();}}return hX;} sE( g)=>VH().then((h){g.setRequestHeader("Authorization","${h.type} ${h.data}");return g;}); get gB=>kX;set wX( g){final i=(kX==null)&&(g!=null);try {yX=g;}catch (h){print("Failed to cache OAuth2 token: ${h}");}kX=g;if(i&&(cX!=null)){var j=new v.Timer(const Duration(milliseconds:0),(){try {cX(g);}catch (h){print("Failed to invoke tokenLoaded callback: ${h}");}});}} get yX=>CB.window.localStorage.containsKey(zX)?new YB.zS(CB.window.localStorage[zX]):null;set yX( g)=>(g==null)?CB.window.localStorage.remove(zX):CB.window.localStorage[zX]=g.l(); get zX=>t.stringify({"clientId":YX,"scopes":ZX,"provider":bX}); xX( g){var j=new v.Completer();j.future.then((i){i.validate(YX).then((k){if(k){g.complete(i);}else{g.completeError(new Exception("Server returned token is invalid"));}}).catchError((h)=>g.completeError(h));}).catchError((h)=>g.completeError(h));return j;}}class aE extends nC{var gB;var tokenType;aE( this.gB,{ this.tokenType: "Bearer"}):super(); sE( g){g.setRequestHeader("Authorization","${tokenType} ${gB}");return new v.Future.value(g);}}class HS{var dX;var fX;var gX=false;HS( this.dX, this.fX){dX.future.whenComplete((){gX=true;});} ZK(){if(gX){return;}if(fX.closed){dX.completeError(new Exception("User closed the window"));}else{var g=new v.Timer(const Duration(milliseconds:10),ZK);}}}class QJ{var lX;var bX;var nX;var oX;var pX;var qX;QJ( this.bX, this.pX){lX=(0x7FFFFFFF&TN()).toString();nX=rX(bX);oX=RJ(sX());qX=CB.window.onMessage.listen(tX);} close(){oX.remove();qX.cancel();} tX( i){if(i.origin!=nX)return;var h;try {h=t.parse(i.data);}catch (j){print("Invalid JSON received via postMessage: ${i.data}");return;}if(!(h is Map)||(h['t']!=lX)){return;}var g=h['s'];if(g.endsWith(':${lX}')){g=g.substring(0,g.length-lX.length-1);}pX(g,h['a']);} rX( i){final g=Uri.parse(i);final h=(g.port!=0)?":${g.port}":"";return "${g.scheme}://${g.host}${h}";} sX(){var h={"parent":CB.window.location.origin};var g=new KS("${bX}postmessageRelay").generate({},h);return Uri.parse(g).resolve("#rpctoken=${lX}&forcesecure=1").toString();}} SN( k){var g=mK.min(650,CB.window.screen.width-20);var h=mK.min(600,CB.window.screen.height-30);var i=(CB.window.screen.width-g)~/2;var j=(CB.window.screen.height-h)~/2;return CB.window.open(k,"_blank","toolbar=no,location=no,directories=" "no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no," "width=${g},height=${h},top=${j},left=${i}");} RJ( h){var g=new CB.Element.tag("iframe");g.src=h;g.style.position="absolute";g.width=g.height="1";g.style.top=g.style.left="-100px";CB.document.body.children.add(g);return g;} TN(){final g=new uS.Uint32List(1);CB.window.crypto.getRandomValues(g);return g[0];}class IS implements Exception{final  message;final  data;IS(this.message,this.data);toString()=>"AuthException: ${message}";}typedef  XN( params);class KS{var AY;KS( g):AY=[] {var h=0;while (h<g.length){final i=g.indexOf("{",h);if(i<0){final o=g.substring(h);AY.add((j)=>o);h=g.length;}else{if(i>h){final p=g.substring(h,i);AY.add((j)=>p);}final k=g.indexOf("}",i);if(k<0)throw new ArgumentError("Token meets end of text: ${g}");var m=g.substring(i+1,k);AY.add((j)=>(j[m]==null)?'null':Uri.encodeComponent(j[m].toString()));h=k+1;}}} generate( k, m){final g=new StringBuffer();AY.forEach((o)=>g.write(o(k)));var h=true;m.forEach((j,i){if(i==null)return;g.write(h?'?':'&');if(h)h=false;g.write(Uri.encodeComponent(j.toString()));g.write('=');g.write(Uri.encodeComponent(i.toString()));});return g.toString();}}abstract class YN extends ED{final  BY;var DY=false;YN([ this.BY]):super(); GY(){var g=new v.Completer();if(DY){g.complete(true);return g.future;}eD((){aC.fQ=new MS.BT((){DY=true;g.complete(true);});});var h=new CB.ScriptElement();h.src="http://apis.google.com/js/client.js?onload=handleClientLoad";h.type="text/javascript";CB.document.body.children.add(h);return g.future;} IY( m, q,{ body, contentType, queryParams}){var h=new v.Completer();var g=new Map();g["path"]=m;g["method"]=q;g["headers"]=new Map();if(queryParams!=null){g["params"]=queryParams;}if(body!=null){g["body"]=body;g["headers"]["Content-Type"]=contentType;}if(hC&&BY!=null&&BY.gB!=null){g["headers"]["Authorization"]="${BY.gB.type} ${BY.gB.data}";}eD((){var k=aC.bQ.client.request(cJ(g));var p=new MS.BT((j,o){if(j==null||(j is bool&&j==false)){var i=t.parse(o);if(i["gapiRequest"]["data"]["status"]>=400){h.completeError(new LS("JS Client - ${i["gapiRequest"]["data"]["status"]} ${i["gapiRequest"]["data"]["statusText"]} - ${i["gapiRequest"]["data"]["body"]}"));}else{h.complete({});}}else{h.complete(aC.xJ.stringify(j));}});k.UQ(p);});return h.future;} request( i, w,{ body, contentType: "application/json", urlParams, queryParams}){var g=new CB.HttpRequest();var k=new v.Completer();if(urlParams==null)urlParams={};if(queryParams==null)queryParams={};XD.forEach((q,DB){if(DB!=null&&queryParams[q]==null){queryParams[q]=DB;}});var j;if(i.substring(0,1)=="/"){j="${bD}${i.substring(1)}";}else{j="${bD}${LD.substring(1)}${i}";}var p=new KS(j).generate(urlParams,queryParams);g.onLoadEnd.listen((JY){if(g.status>0&&g.status<400){var o={};if(!g.responseText.isEmpty){o=t.parse(g.responseText);}k.complete(o);}else{if(g.status==0){GY().then((XC){if(i.substring(0,1)=="/"){j=i;}else{j="${LD}${i}";}p=new KS(j).generate(urlParams,{});IY(p,w,body:body,contentType:contentType,queryParams:queryParams).then((uB){var o=t.parse(uB);k.complete(o);}).catchError((TB){k.completeError(TB);return true;});});}else{var m="";if(g.responseText!=null){var h;try {h=t.parse(g.responseText);}on FormatException {h=null;}if(h!=null&&h.containsKey("error")){m="${h["error"]["code"]} ${h["error"]["message"]}";}}if(m==""){m="${g.status} ${g.statusText}";}k.completeError(new LS(m));}}});g.open(w,p);g.setRequestHeader("Content-Type",contentType);if(hC&&BY!=null){BY.sE(g).then((g)=>g.send(body));}else{g.send(body);}return k.future;}}class ZN extends YN{var CY;var EY;var FY;var HY; get vQ=>HY; get key=>XD["key"];ZN([ g]):super(g){LD="/plus/v1/";bD="https://www.googleapis.com/";CY=new aN(this);EY=new cN(this);FY=new hN(this);HY=new TJ(this);}}class bN{var description;var items;var kind;bN.AT( g){if(g.containsKey("description")){description=g["description"];}if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new RO.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}} l(){var g=new Map();if(description!=null){g["description"]=description;}if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}return g;} toString()=>t.stringify(this.l());}class aN extends bE{aN( g):super(g){}v.Future<SJ> get( h,{ optParams}){var g=new v.Completer();var DB="activities/{activityId}";var p=new Map();var i=new Map();var j=new List();if(h==null)j.add("activityId is required");if(h!=null)p["activityId"]=h;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&i[o]==null){i[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=KY.request(DB,"GET",urlParams:p,queryParams:i);m.then((w)=>g.complete(new SJ.AT(w))).catchError((q){g.completeError(q);return true;});return g.future;} list( k, h,{ maxResults, pageToken, optParams}){var g=new v.Completer();var TB="people/{userId}/activities/{collection}";var m=new Map();var i=new Map();var j=new List();if(h==null)j.add("collection is required");if(h!=null&&!["public"].contains(h)){j.add("Allowed values for collection: public");}if(h!=null)m["collection"]=h;if(maxResults!=null)i["maxResults"]=maxResults;if(pageToken!=null)i["pageToken"]=pageToken;if(k==null)j.add("userId is required");if(k!=null)m["userId"]=k;if(optParams!=null){optParams.forEach((q,o){if(o!=null&&i[q]==null){i[q]=o;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var p;p=KY.request(TB,"GET",urlParams:m,queryParams:i);p.then((DB)=>g.complete(new uN.AT(DB))).catchError((w){g.completeError(w);return true;});return g.future;}}abstract class ED{var LD;var bD;var hC;var XD;ED(){XD=new Map();hC=false;} request( g, h,{ body, contentType: "application/json", urlParams, queryParams});}class SJ{var zF;var IC;var JC;var JG;var jG;var MB;var CH;var id;var kind;var location;var object;var kH;var lH;var wH;var aD;var xH;var title;var XB;var url;var cD;SJ.AT( g){if(g.containsKey("access")){zF=new bN.AT(g["access"]);}if(g.containsKey("actor")){IC=new eN.AT(g["actor"]);}if(g.containsKey("address")){JC=g["address"];}if(g.containsKey("annotation")){JG=g["annotation"];}if(g.containsKey("crosspostSource")){jG=g["crosspostSource"];}if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("geocode")){CH=g["geocode"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("location")){location=new OO.AT(g["location"]);}if(g.containsKey("object")){object=new iN.AT(g["object"]);}if(g.containsKey("placeId")){kH=g["placeId"];}if(g.containsKey("placeName")){lH=g["placeName"];}if(g.containsKey("provider")){wH=new dN.AT(g["provider"]);}if(g.containsKey("published")){aD=g["published"];}if(g.containsKey("radius")){xH=g["radius"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("updated")){XB=g["updated"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("verb")){cD=g["verb"];}} l(){var g=new Map();if(zF!=null){g["access"]=zF.l();}if(IC!=null){g["actor"]=IC.l();}if(JC!=null){g["address"]=JC;}if(JG!=null){g["annotation"]=JG;}if(jG!=null){g["crosspostSource"]=jG;}if(MB!=null){g["etag"]=MB;}if(CH!=null){g["geocode"]=CH;}if(id!=null){g["id"]=id;}if(kind!=null){g["kind"]=kind;}if(location!=null){g["location"]=location.l();}if(object!=null){g["object"]=object.l();}if(kH!=null){g["placeId"]=kH;}if(lH!=null){g["placeName"]=lH;}if(wH!=null){g["provider"]=wH.l();}if(aD!=null){g["published"]=aD;}if(xH!=null){g["radius"]=xH;}if(title!=null){g["title"]=title;}if(XB!=null){g["updated"]=XB;}if(url!=null){g["url"]=url;}if(cD!=null){g["verb"]=cD;}return g;} toString()=>t.stringify(this.l());}abstract class bE{var KY;bE( this.KY);}class LS implements Exception{final  msg;const LS([this.msg]); toString()=>(msg==null)?"APIRequestException":"APIRequestException: ${msg}";}class cN extends bE{cN( g):super(g){}v.Future<UJ> get( h,{ optParams}){var g=new v.Completer();var DB="comments/{commentId}";var p=new Map();var i=new Map();var j=new List();if(h==null)j.add("commentId is required");if(h!=null)p["commentId"]=h;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&i[o]==null){i[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=KY.request(DB,"GET",urlParams:p,queryParams:i);m.then((w)=>g.complete(new UJ.AT(w))).catchError((q){g.completeError(q);return true;});return g.future;} list( j,{ maxResults, pageToken, sortOrder, optParams}){var h=new v.Completer();var DB="activities/{activityId}/comments";var p=new Map();var g=new Map();var i=new List();if(j==null)i.add("activityId is required");if(j!=null)p["activityId"]=j;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(sortOrder!=null&&!["ascending","descending"].contains(sortOrder)){i.add("Allowed values for sortOrder: ascending, descending");}if(sortOrder!=null)g["sortOrder"]=sortOrder;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&g[o]==null){g[o]=k;}});}if(!i.isEmpty){h.completeError(new ArgumentError(i.join(" / ")));return h.future;}var m;m=KY.request(DB,"GET",urlParams:p,queryParams:g);m.then((w)=>h.complete(new AO.AT(w))).catchError((q){h.completeError(q);return true;});return h.future;}}class dN{var title;dN.AT( g){if(g.containsKey("title")){title=g["title"];}} l(){var g=new Map();if(title!=null){g["title"]=title;}return g;} toString()=>t.stringify(this.l());}class eN{var FB;var id;var HB;var name;var url;eN.AT( g){if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=new gN.AT(g["image"]);}if(g.containsKey("name")){name=new fN.AT(g["name"]);}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(FB!=null){g["displayName"]=FB;}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB.l();}if(name!=null){g["name"]=name.l();}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class fN{var LC;var MC;fN.AT( g){if(g.containsKey("familyName")){LC=g["familyName"];}if(g.containsKey("givenName")){MC=g["givenName"];}} l(){var g=new Map();if(LC!=null){g["familyName"]=LC;}if(MC!=null){g["givenName"]=MC;}return g;} toString()=>t.stringify(this.l());}class gN{var url;gN.AT( g){if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class hN extends bE{hN( g):super(g){} list( k, i,{ maxResults, pageToken, targetUrl, type, optParams}){var h=new v.Completer();var TB="people/{userId}/moments/{collection}";var m=new Map();var g=new Map();var j=new List();if(i==null)j.add("collection is required");if(i!=null&&!["vault"].contains(i)){j.add("Allowed values for collection: vault");}if(i!=null)m["collection"]=i;if(maxResults!=null)g["maxResults"]=maxResults;if(pageToken!=null)g["pageToken"]=pageToken;if(targetUrl!=null)g["targetUrl"]=targetUrl;if(type!=null)g["type"]=type;if(k==null)j.add("userId is required");if(k!=null)m["userId"]=k;if(optParams!=null){optParams.forEach((q,o){if(o!=null&&g[q]==null){g[q]=o;}});}if(!j.isEmpty){h.completeError(new ArgumentError(j.join(" / ")));return h.future;}var p;p=KY.request(TB,"GET",urlParams:m,queryParams:g);p.then((DB)=>h.complete(new CO.AT(DB))).catchError((w){h.completeError(w);return true;});return h.future;} remove( i,{ optParams}){var g=new v.Completer();var DB="moments/{id}";var p=new Map();var h=new Map();var j=new List();if(i==null)j.add("id is required");if(i!=null)p["id"]=i;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&h[o]==null){h[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=KY.request(DB,"DELETE",urlParams:p,queryParams:h);m.then((w)=>g.complete(w)).catchError((q){g.completeError(q);return true;});return g.future;}}class iN{var IC;var qE;var content;var id;var nB;var WD;var ZD;var BI;var CI;var url;iN.AT( g){if(g.containsKey("actor")){IC=new jN.AT(g["actor"]);}if(g.containsKey("attachments")){qE=[] ;g["attachments"].forEach((h){qE.add(new mN.AT(h));});}if(g.containsKey("content")){content=g["content"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("objectType")){nB=g["objectType"];}if(g.containsKey("originalContent")){WD=g["originalContent"];}if(g.containsKey("plusoners")){ZD=new tN.AT(g["plusoners"]);}if(g.containsKey("replies")){BI=new lN.AT(g["replies"]);}if(g.containsKey("resharers")){CI=new sN.AT(g["resharers"]);}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(IC!=null){g["actor"]=IC.l();}if(qE!=null){g["attachments"]=new List();qE.forEach((h){g["attachments"].add(h.l());});}if(content!=null){g["content"]=content;}if(id!=null){g["id"]=id;}if(nB!=null){g["objectType"]=nB;}if(WD!=null){g["originalContent"]=WD;}if(ZD!=null){g["plusoners"]=ZD.l();}if(BI!=null){g["replies"]=BI.l();}if(CI!=null){g["resharers"]=CI.l();}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class jN{var FB;var id;var HB;var url;jN.AT( g){if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=new kN.AT(g["image"]);}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(FB!=null){g["displayName"]=FB;}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB.l();}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class kN{var url;kN.AT( g){if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class TJ extends bE{TJ( g):super(g){}v.Future<dF> get( h,{ optParams}){var g=new v.Completer();var DB="people/{userId}";var p=new Map();var i=new Map();var j=new List();if(h==null)j.add("userId is required");if(h!=null)p["userId"]=h;if(optParams!=null){optParams.forEach((o,k){if(k!=null&&i[o]==null){i[o]=k;}});}if(!j.isEmpty){g.completeError(new ArgumentError(j.join(" / ")));return g.future;}var m;m=KY.request(DB,"GET",urlParams:p,queryParams:i);m.then((w)=>g.complete(new dF.AT(w))).catchError((q){g.completeError(q);return true;});return g.future;} list( k, j,{ maxResults, orderBy, pageToken, optParams}){var i=new v.Completer();var TB="people/{userId}/people/{collection}";var m=new Map();var g=new Map();var h=new List();if(j==null)h.add("collection is required");if(j!=null&&!["visible"].contains(j)){h.add("Allowed values for collection: visible");}if(j!=null)m["collection"]=j;if(maxResults!=null)g["maxResults"]=maxResults;if(orderBy!=null&&!["alphabetical","best"].contains(orderBy)){h.add("Allowed values for orderBy: alphabetical, best");}if(orderBy!=null)g["orderBy"]=orderBy;if(pageToken!=null)g["pageToken"]=pageToken;if(k==null)h.add("userId is required");if(k!=null)m["userId"]=k;if(optParams!=null){optParams.forEach((q,o){if(o!=null&&g[q]==null){g[q]=o;}});}if(!h.isEmpty){i.completeError(new ArgumentError(h.join(" / ")));return i.future;}var p;p=KY.request(TB,"GET",urlParams:m,queryParams:g);p.then((DB)=>i.complete(new DO.AT(DB))).catchError((w){i.completeError(w);return true;});return i.future;}}class lN{var NB;var WB;lN.AT( g){if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("totalItems")){WB=g["totalItems"];}} l(){var g=new Map();if(NB!=null){g["selfLink"]=NB;}if(WB!=null){g["totalItems"]=WB;}return g;} toString()=>t.stringify(this.l());}class mN{var content;var FB;var qG;var zG;var id;var HB;var nB;var LF;var url;mN.AT( g){if(g.containsKey("content")){content=g["content"];}if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("embed")){qG=new qN.AT(g["embed"]);}if(g.containsKey("fullImage")){zG=new rN.AT(g["fullImage"]);}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=new nN.AT(g["image"]);}if(g.containsKey("objectType")){nB=g["objectType"];}if(g.containsKey("thumbnails")){LF=[] ;g["thumbnails"].forEach((h){LF.add(new oN.AT(h));});}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(content!=null){g["content"]=content;}if(FB!=null){g["displayName"]=FB;}if(qG!=null){g["embed"]=qG.l();}if(zG!=null){g["fullImage"]=zG.l();}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB.l();}if(nB!=null){g["objectType"]=nB;}if(LF!=null){g["thumbnails"]=new List();LF.forEach((h){g["thumbnails"].add(h.l());});}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class nN{var height;var type;var url;var width;nN.AT( g){if(g.containsKey("height")){height=g["height"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}} l(){var g=new Map();if(height!=null){g["height"]=height;}if(type!=null){g["type"]=type;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}return g;} toString()=>t.stringify(this.l());}class oN{var description;var HB;var url;oN.AT( g){if(g.containsKey("description")){description=g["description"];}if(g.containsKey("image")){HB=new pN.AT(g["image"]);}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(description!=null){g["description"]=description;}if(HB!=null){g["image"]=HB.l();}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class pN{var height;var type;var url;var width;pN.AT( g){if(g.containsKey("height")){height=g["height"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}} l(){var g=new Map();if(height!=null){g["height"]=height;}if(type!=null){g["type"]=type;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}return g;} toString()=>t.stringify(this.l());}class qN{var type;var url;qN.AT( g){if(g.containsKey("type")){type=g["type"];}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(type!=null){g["type"]=type;}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class rN{var height;var type;var url;var width;rN.AT( g){if(g.containsKey("height")){height=g["height"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}} l(){var g=new Map();if(height!=null){g["height"]=height;}if(type!=null){g["type"]=type;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}return g;} toString()=>t.stringify(this.l());}class sN{var NB;var WB;sN.AT( g){if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("totalItems")){WB=g["totalItems"];}} l(){var g=new Map();if(NB!=null){g["selfLink"]=NB;}if(WB!=null){g["totalItems"]=WB;}return g;} toString()=>t.stringify(this.l());}class tN{var NB;var WB;tN.AT( g){if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("totalItems")){WB=g["totalItems"];}} l(){var g=new Map();if(NB!=null){g["selfLink"]=NB;}if(WB!=null){g["totalItems"]=WB;}return g;} toString()=>t.stringify(this.l());}class uN{var MB;var id;var items;var kind;var NC;var GB;var NB;var title;var XB;uN.AT( g){if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new SJ.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextLink")){NC=g["nextLink"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("updated")){XB=g["updated"];}} l(){var g=new Map();if(MB!=null){g["etag"]=MB;}if(id!=null){g["id"]=id;}if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(NC!=null){g["nextLink"]=NC;}if(GB!=null){g["nextPageToken"]=GB;}if(NB!=null){g["selfLink"]=NB;}if(title!=null){g["title"]=title;}if(XB!=null){g["updated"]=XB;}return g;} toString()=>t.stringify(this.l());}class UJ{var IC;var MB;var id;var zE;var kind;var object;var ZD;var aD;var NB;var XB;var cD;UJ.AT( g){if(g.containsKey("actor")){IC=new vN.AT(g["actor"]);}if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("inReplyTo")){zE=[] ;g["inReplyTo"].forEach((h){zE.add(new yN.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("object")){object=new zN.AT(g["object"]);}if(g.containsKey("plusoners")){ZD=new xN.AT(g["plusoners"]);}if(g.containsKey("published")){aD=g["published"];}if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("updated")){XB=g["updated"];}if(g.containsKey("verb")){cD=g["verb"];}} l(){var g=new Map();if(IC!=null){g["actor"]=IC.l();}if(MB!=null){g["etag"]=MB;}if(id!=null){g["id"]=id;}if(zE!=null){g["inReplyTo"]=new List();zE.forEach((h){g["inReplyTo"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(object!=null){g["object"]=object.l();}if(ZD!=null){g["plusoners"]=ZD.l();}if(aD!=null){g["published"]=aD;}if(NB!=null){g["selfLink"]=NB;}if(XB!=null){g["updated"]=XB;}if(cD!=null){g["verb"]=cD;}return g;} toString()=>t.stringify(this.l());}class vN{var FB;var id;var HB;var url;vN.AT( g){if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=new wN.AT(g["image"]);}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(FB!=null){g["displayName"]=FB;}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB.l();}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class wN{var url;wN.AT( g){if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class xN{var WB;xN.AT( g){if(g.containsKey("totalItems")){WB=g["totalItems"];}} l(){var g=new Map();if(WB!=null){g["totalItems"]=WB;}return g;} toString()=>t.stringify(this.l());}class yN{var id;var url;yN.AT( g){if(g.containsKey("id")){id=g["id"];}if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(id!=null){g["id"]=id;}if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class zN{var content;var nB;var WD;zN.AT( g){if(g.containsKey("content")){content=g["content"];}if(g.containsKey("objectType")){nB=g["objectType"];}if(g.containsKey("originalContent")){WD=g["originalContent"];}} l(){var g=new Map();if(content!=null){g["content"]=content;}if(nB!=null){g["objectType"]=nB;}if(WD!=null){g["originalContent"]=WD;}return g;} toString()=>t.stringify(this.l());}class AO{var MB;var id;var items;var kind;var NC;var GB;var title;var XB;AO.AT( g){if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new UJ.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextLink")){NC=g["nextLink"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("updated")){XB=g["updated"];}} l(){var g=new Map();if(MB!=null){g["etag"]=MB;}if(id!=null){g["id"]=id;}if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(NC!=null){g["nextLink"]=NC;}if(GB!=null){g["nextPageToken"]=GB;}if(title!=null){g["title"]=title;}if(XB!=null){g["updated"]=XB;}return g;} toString()=>t.stringify(this.l());}class cB{var xF;var nE;var JC;var DG;var EG;var FG;var pE;var LG;var rE;var MG;var tC;var PG;var QG;var UG;var caption;var dG;var eG;var uE;var mG;var nG;var oG;var description;var duration;var rG;var QD;var LC;var SD;var BH;var MC;var height;var id;var HB;var IH;var kind;var latitude;var location;var longitude;var name;var iH;var FF;var pH;var tH;var uH;var yH;var EI;var PC;var LI;var text;var SI;var TI;var VI;var type;var url;var width;var gI;cB.AT( g){if(g.containsKey("about")){xF=new cB.AT(g["about"]);}if(g.containsKey("additionalName")){nE=[] ;g["additionalName"].forEach((h){nE.add(h);});}if(g.containsKey("address")){JC=new cB.AT(g["address"]);}if(g.containsKey("addressCountry")){DG=g["addressCountry"];}if(g.containsKey("addressLocality")){EG=g["addressLocality"];}if(g.containsKey("addressRegion")){FG=g["addressRegion"];}if(g.containsKey("associated_media")){pE=[] ;g["associated_media"].forEach((h){pE.add(new cB.AT(h));});}if(g.containsKey("attendeeCount")){LG=g["attendeeCount"];}if(g.containsKey("attendees")){rE=[] ;g["attendees"].forEach((h){rE.add(new cB.AT(h));});}if(g.containsKey("audio")){MG=new cB.AT(g["audio"]);}if(g.containsKey("author")){tC=[] ;g["author"].forEach((h){tC.add(new cB.AT(h));});}if(g.containsKey("bestRating")){PG=g["bestRating"];}if(g.containsKey("birthDate")){QG=g["birthDate"];}if(g.containsKey("byArtist")){UG=new cB.AT(g["byArtist"]);}if(g.containsKey("caption")){caption=g["caption"];}if(g.containsKey("contentSize")){dG=g["contentSize"];}if(g.containsKey("contentUrl")){eG=g["contentUrl"];}if(g.containsKey("contributor")){uE=[] ;g["contributor"].forEach((h){uE.add(new cB.AT(h));});}if(g.containsKey("dateCreated")){mG=g["dateCreated"];}if(g.containsKey("dateModified")){nG=g["dateModified"];}if(g.containsKey("datePublished")){oG=g["datePublished"];}if(g.containsKey("description")){description=g["description"];}if(g.containsKey("duration")){duration=g["duration"];}if(g.containsKey("embedUrl")){rG=g["embedUrl"];}if(g.containsKey("endDate")){QD=g["endDate"];}if(g.containsKey("familyName")){LC=g["familyName"];}if(g.containsKey("gender")){SD=g["gender"];}if(g.containsKey("geo")){BH=new cB.AT(g["geo"]);}if(g.containsKey("givenName")){MC=g["givenName"];}if(g.containsKey("height")){height=g["height"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=g["image"];}if(g.containsKey("inAlbum")){IH=new cB.AT(g["inAlbum"]);}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("latitude")){latitude=g["latitude"];}if(g.containsKey("location")){location=new cB.AT(g["location"]);}if(g.containsKey("longitude")){longitude=g["longitude"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("partOfTVSeries")){iH=new cB.AT(g["partOfTVSeries"]);}if(g.containsKey("performers")){FF=[] ;g["performers"].forEach((h){FF.add(new cB.AT(h));});}if(g.containsKey("playerType")){pH=g["playerType"];}if(g.containsKey("postOfficeBoxNumber")){tH=g["postOfficeBoxNumber"];}if(g.containsKey("postalCode")){uH=g["postalCode"];}if(g.containsKey("ratingValue")){yH=g["ratingValue"];}if(g.containsKey("reviewRating")){EI=new cB.AT(g["reviewRating"]);}if(g.containsKey("startDate")){PC=g["startDate"];}if(g.containsKey("streetAddress")){LI=g["streetAddress"];}if(g.containsKey("text")){text=g["text"];}if(g.containsKey("thumbnail")){SI=new cB.AT(g["thumbnail"]);}if(g.containsKey("thumbnailUrl")){TI=g["thumbnailUrl"];}if(g.containsKey("tickerSymbol")){VI=g["tickerSymbol"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}if(g.containsKey("worstRating")){gI=g["worstRating"];}} l(){var g=new Map();if(xF!=null){g["about"]=xF.l();}if(nE!=null){g["additionalName"]=new List();nE.forEach((h){g["additionalName"].add(h);});}if(JC!=null){g["address"]=JC.l();}if(DG!=null){g["addressCountry"]=DG;}if(EG!=null){g["addressLocality"]=EG;}if(FG!=null){g["addressRegion"]=FG;}if(pE!=null){g["associated_media"]=new List();pE.forEach((h){g["associated_media"].add(h.l());});}if(LG!=null){g["attendeeCount"]=LG;}if(rE!=null){g["attendees"]=new List();rE.forEach((h){g["attendees"].add(h.l());});}if(MG!=null){g["audio"]=MG.l();}if(tC!=null){g["author"]=new List();tC.forEach((h){g["author"].add(h.l());});}if(PG!=null){g["bestRating"]=PG;}if(QG!=null){g["birthDate"]=QG;}if(UG!=null){g["byArtist"]=UG.l();}if(caption!=null){g["caption"]=caption;}if(dG!=null){g["contentSize"]=dG;}if(eG!=null){g["contentUrl"]=eG;}if(uE!=null){g["contributor"]=new List();uE.forEach((h){g["contributor"].add(h.l());});}if(mG!=null){g["dateCreated"]=mG;}if(nG!=null){g["dateModified"]=nG;}if(oG!=null){g["datePublished"]=oG;}if(description!=null){g["description"]=description;}if(duration!=null){g["duration"]=duration;}if(rG!=null){g["embedUrl"]=rG;}if(QD!=null){g["endDate"]=QD;}if(LC!=null){g["familyName"]=LC;}if(SD!=null){g["gender"]=SD;}if(BH!=null){g["geo"]=BH.l();}if(MC!=null){g["givenName"]=MC;}if(height!=null){g["height"]=height;}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB;}if(IH!=null){g["inAlbum"]=IH.l();}if(kind!=null){g["kind"]=kind;}if(latitude!=null){g["latitude"]=latitude;}if(location!=null){g["location"]=location.l();}if(longitude!=null){g["longitude"]=longitude;}if(name!=null){g["name"]=name;}if(iH!=null){g["partOfTVSeries"]=iH.l();}if(FF!=null){g["performers"]=new List();FF.forEach((h){g["performers"].add(h.l());});}if(pH!=null){g["playerType"]=pH;}if(tH!=null){g["postOfficeBoxNumber"]=tH;}if(uH!=null){g["postalCode"]=uH;}if(yH!=null){g["ratingValue"]=yH;}if(EI!=null){g["reviewRating"]=EI.l();}if(PC!=null){g["startDate"]=PC;}if(LI!=null){g["streetAddress"]=LI;}if(text!=null){g["text"]=text;}if(SI!=null){g["thumbnail"]=SI.l();}if(TI!=null){g["thumbnailUrl"]=TI;}if(VI!=null){g["tickerSymbol"]=VI;}if(type!=null){g["type"]=type;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}if(gI!=null){g["worstRating"]=gI;}return g;} toString()=>t.stringify(this.l());}class BO{var id;var kind;var result;var PC;var target;var type;BO.AT( g){if(g.containsKey("id")){id=g["id"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("result")){result=new cB.AT(g["result"]);}if(g.containsKey("startDate")){PC=g["startDate"];}if(g.containsKey("target")){target=new cB.AT(g["target"]);}if(g.containsKey("type")){type=g["type"];}} l(){var g=new Map();if(id!=null){g["id"]=id;}if(kind!=null){g["kind"]=kind;}if(result!=null){g["result"]=result.l();}if(PC!=null){g["startDate"]=PC;}if(target!=null){g["target"]=target.l();}if(type!=null){g["type"]=type;}return g;} toString()=>t.stringify(this.l());}class CO{var MB;var items;var kind;var NC;var GB;var NB;var title;var XB;CO.AT( g){if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new BO.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextLink")){NC=g["nextLink"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("updated")){XB=g["updated"];}} l(){var g=new Map();if(MB!=null){g["etag"]=MB;}if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(NC!=null){g["nextLink"]=NC;}if(GB!=null){g["nextPageToken"]=GB;}if(NB!=null){g["selfLink"]=NB;}if(title!=null){g["title"]=title;}if(XB!=null){g["updated"]=XB;}return g;} toString()=>t.stringify(this.l());}class DO{var MB;var items;var kind;var GB;var NB;var title;var WB;DO.AT( g){if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("items")){items=[] ;g["items"].forEach((h){items.add(new dF.AT(h));});}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("nextPageToken")){GB=g["nextPageToken"];}if(g.containsKey("selfLink")){NB=g["selfLink"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("totalItems")){WB=g["totalItems"];}} l(){var g=new Map();if(MB!=null){g["etag"]=MB;}if(items!=null){g["items"]=new List();items.forEach((h){g["items"].add(h.l());});}if(kind!=null){g["kind"]=kind;}if(GB!=null){g["nextPageToken"]=GB;}if(NB!=null){g["selfLink"]=NB;}if(title!=null){g["title"]=title;}if(WB!=null){g["totalItems"]=WB;}return g;} toString()=>t.stringify(this.l());}class dF{var yF;var GG;var RG;var SG;var WG;var fG;var kG;var FB;var vE;var MB;var SD;var id;var HB;var LH;var kind;var language;var name;var bH;var nB;var CF;var GF;var qH;var AI;var RI;var url;var NF;var dI;dF.AT( g){if(g.containsKey("aboutMe")){yF=g["aboutMe"];}if(g.containsKey("ageRange")){GG=new LO.AT(g["ageRange"]);}if(g.containsKey("birthday")){RG=g["birthday"];}if(g.containsKey("braggingRights")){SG=g["braggingRights"];}if(g.containsKey("circledByCount")){WG=g["circledByCount"];}if(g.containsKey("cover")){fG=new EO.AT(g["cover"]);}if(g.containsKey("currentLocation")){kG=g["currentLocation"];}if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("emails")){vE=[] ;g["emails"].forEach((h){vE.add(new IO.AT(h));});}if(g.containsKey("etag")){MB=g["etag"];}if(g.containsKey("gender")){SD=g["gender"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("image")){HB=new NO.AT(g["image"]);}if(g.containsKey("isPlusUser")){LH=g["isPlusUser"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("language")){language=g["language"];}if(g.containsKey("name")){name=new HO.AT(g["name"]);}if(g.containsKey("nickname")){bH=g["nickname"];}if(g.containsKey("objectType")){nB=g["objectType"];}if(g.containsKey("organizations")){CF=[] ;g["organizations"].forEach((h){CF.add(new MO.AT(h));});}if(g.containsKey("placesLived")){GF=[] ;g["placesLived"].forEach((h){GF.add(new KO.AT(h));});}if(g.containsKey("plusOneCount")){qH=g["plusOneCount"];}if(g.containsKey("relationshipStatus")){AI=g["relationshipStatus"];}if(g.containsKey("tagline")){RI=g["tagline"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("urls")){NF=[] ;g["urls"].forEach((h){NF.add(new JO.AT(h));});}if(g.containsKey("verified")){dI=g["verified"];}} l(){var g=new Map();if(yF!=null){g["aboutMe"]=yF;}if(GG!=null){g["ageRange"]=GG.l();}if(RG!=null){g["birthday"]=RG;}if(SG!=null){g["braggingRights"]=SG;}if(WG!=null){g["circledByCount"]=WG;}if(fG!=null){g["cover"]=fG.l();}if(kG!=null){g["currentLocation"]=kG;}if(FB!=null){g["displayName"]=FB;}if(vE!=null){g["emails"]=new List();vE.forEach((h){g["emails"].add(h.l());});}if(MB!=null){g["etag"]=MB;}if(SD!=null){g["gender"]=SD;}if(id!=null){g["id"]=id;}if(HB!=null){g["image"]=HB.l();}if(LH!=null){g["isPlusUser"]=LH;}if(kind!=null){g["kind"]=kind;}if(language!=null){g["language"]=language;}if(name!=null){g["name"]=name.l();}if(bH!=null){g["nickname"]=bH;}if(nB!=null){g["objectType"]=nB;}if(CF!=null){g["organizations"]=new List();CF.forEach((h){g["organizations"].add(h.l());});}if(GF!=null){g["placesLived"]=new List();GF.forEach((h){g["placesLived"].add(h.l());});}if(qH!=null){g["plusOneCount"]=qH;}if(AI!=null){g["relationshipStatus"]=AI;}if(RI!=null){g["tagline"]=RI;}if(url!=null){g["url"]=url;}if(NF!=null){g["urls"]=new List();NF.forEach((h){g["urls"].add(h.l());});}if(dI!=null){g["verified"]=dI;}return g;} toString()=>t.stringify(this.l());}class EO{var gG;var hG;var PH;EO.AT( g){if(g.containsKey("coverInfo")){gG=new FO.AT(g["coverInfo"]);}if(g.containsKey("coverPhoto")){hG=new GO.AT(g["coverPhoto"]);}if(g.containsKey("layout")){PH=g["layout"];}} l(){var g=new Map();if(gG!=null){g["coverInfo"]=gG.l();}if(hG!=null){g["coverPhoto"]=hG.l();}if(PH!=null){g["layout"]=PH;}return g;} toString()=>t.stringify(this.l());}class FO{var SH;var YI;FO.AT( g){if(g.containsKey("leftImageOffset")){SH=g["leftImageOffset"];}if(g.containsKey("topImageOffset")){YI=g["topImageOffset"];}} l(){var g=new Map();if(SH!=null){g["leftImageOffset"]=SH;}if(YI!=null){g["topImageOffset"]=YI;}return g;} toString()=>t.stringify(this.l());}class GO{var height;var url;var width;GO.AT( g){if(g.containsKey("height")){height=g["height"];}if(g.containsKey("url")){url=g["url"];}if(g.containsKey("width")){width=g["width"];}} l(){var g=new Map();if(height!=null){g["height"]=height;}if(url!=null){g["url"]=url;}if(width!=null){g["width"]=width;}return g;} toString()=>t.stringify(this.l());}class HO{var LC;var RD;var MC;var FH;var GH;var YH;HO.AT( g){if(g.containsKey("familyName")){LC=g["familyName"];}if(g.containsKey("formatted")){RD=g["formatted"];}if(g.containsKey("givenName")){MC=g["givenName"];}if(g.containsKey("honorificPrefix")){FH=g["honorificPrefix"];}if(g.containsKey("honorificSuffix")){GH=g["honorificSuffix"];}if(g.containsKey("middleName")){YH=g["middleName"];}} l(){var g=new Map();if(LC!=null){g["familyName"]=LC;}if(RD!=null){g["formatted"]=RD;}if(MC!=null){g["givenName"]=MC;}if(FH!=null){g["honorificPrefix"]=FH;}if(GH!=null){g["honorificSuffix"]=GH;}if(YH!=null){g["middleName"]=YH;}return g;} toString()=>t.stringify(this.l());}class IO{var oB;var type;var value;IO.AT( g){if(g.containsKey("primary")){oB=g["primary"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("value")){value=g["value"];}} l(){var g=new Map();if(oB!=null){g["primary"]=oB;}if(type!=null){g["type"]=type;}if(value!=null){g["value"]=value;}return g;} toString()=>t.stringify(this.l());}class JO{var label;var type;var value;JO.AT( g){if(g.containsKey("label")){label=g["label"];}if(g.containsKey("type")){type=g["type"];}if(g.containsKey("value")){value=g["value"];}} l(){var g=new Map();if(label!=null){g["label"]=label;}if(type!=null){g["type"]=type;}if(value!=null){g["value"]=value;}return g;} toString()=>t.stringify(this.l());}class KO{var oB;var value;KO.AT( g){if(g.containsKey("primary")){oB=g["primary"];}if(g.containsKey("value")){value=g["value"];}} l(){var g=new Map();if(oB!=null){g["primary"]=oB;}if(value!=null){g["value"]=value;}return g;} toString()=>t.stringify(this.l());}class LO{var max;var min;LO.AT( g){if(g.containsKey("max")){max=g["max"];}if(g.containsKey("min")){min=g["min"];}} l(){var g=new Map();if(max!=null){g["max"]=max;}if(min!=null){g["min"]=min;}return g;} toString()=>t.stringify(this.l());}class MO{var pG;var description;var QD;var location;var name;var oB;var PC;var title;var type;MO.AT( g){if(g.containsKey("department")){pG=g["department"];}if(g.containsKey("description")){description=g["description"];}if(g.containsKey("endDate")){QD=g["endDate"];}if(g.containsKey("location")){location=g["location"];}if(g.containsKey("name")){name=g["name"];}if(g.containsKey("primary")){oB=g["primary"];}if(g.containsKey("startDate")){PC=g["startDate"];}if(g.containsKey("title")){title=g["title"];}if(g.containsKey("type")){type=g["type"];}} l(){var g=new Map();if(pG!=null){g["department"]=pG;}if(description!=null){g["description"]=description;}if(QD!=null){g["endDate"]=QD;}if(location!=null){g["location"]=location;}if(name!=null){g["name"]=name;}if(oB!=null){g["primary"]=oB;}if(PC!=null){g["startDate"]=PC;}if(title!=null){g["title"]=title;}if(type!=null){g["type"]=type;}return g;} toString()=>t.stringify(this.l());}class NO{var url;NO.AT( g){if(g.containsKey("url")){url=g["url"];}} l(){var g=new Map();if(url!=null){g["url"]=url;}return g;} toString()=>t.stringify(this.l());}class OO{var JC;var FB;var kind;var position;OO.AT( g){if(g.containsKey("address")){JC=new QO.AT(g["address"]);}if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("kind")){kind=g["kind"];}if(g.containsKey("position")){position=new PO.AT(g["position"]);}} l(){var g=new Map();if(JC!=null){g["address"]=JC.l();}if(FB!=null){g["displayName"]=FB;}if(kind!=null){g["kind"]=kind;}if(position!=null){g["position"]=position.l();}return g;} toString()=>t.stringify(this.l());}class PO{var latitude;var longitude;PO.AT( g){if(g.containsKey("latitude")){latitude=g["latitude"];}if(g.containsKey("longitude")){longitude=g["longitude"];}} l(){var g=new Map();if(latitude!=null){g["latitude"]=latitude;}if(longitude!=null){g["longitude"]=longitude;}return g;} toString()=>t.stringify(this.l());}class QO{var RD;QO.AT( g){if(g.containsKey("formatted")){RD=g["formatted"];}} l(){var g=new Map();if(RD!=null){g["formatted"]=RD;}return g;} toString()=>t.stringify(this.l());}class RO{var FB;var id;var type;RO.AT( g){if(g.containsKey("displayName")){FB=g["displayName"];}if(g.containsKey("id")){id=g["id"];}if(g.containsKey("type")){type=g["type"];}} l(){var g=new Map();if(FB!=null){g["displayName"]=FB;}if(id!=null){g["id"]=id;}if(type!=null){g["type"]=type;}return g;} toString()=>t.stringify(this.l());}final SO=r"""
(function() {
  // Proxy support for js.dart.

  var globalContext = window;

  // Support for binding the receiver (this) in proxied functions.
  function bindIfFunction(f, _this) {
    if (typeof(f) != "function") {
      return f;
    } else {
      return new BoundFunction(_this, f);
    }
  }

  function unbind(obj) {
    if (obj instanceof BoundFunction) {
      return obj.object;
    } else {
      return obj;
    }
  }

  function getBoundThis(obj) {
    if (obj instanceof BoundFunction) {
      return obj._this;
    } else {
      return globalContext;
    }
  }

  function BoundFunction(_this, object) {
    this._this = _this;
    this.object = object;
  }

  // Table for local objects and functions that are proxied.
  function ProxiedObjectTable() {
    // Name for debugging.
    this.name = 'js-ref';

    // Table from IDs to JS objects.
    this.map = {};

    // Generator for new IDs.
    this._nextId = 0;

    // Counter for deleted proxies.
    this._deletedCount = 0;

    // Flag for one-time initialization.
    this._initialized = false;

    // Ports for managing communication to proxies.
    this.port = new ReceivePortSync();
    this.sendPort = this.port.toSendPort();

    // Set of IDs that are global.
    // These will not be freed on an exitScope().
    this.globalIds = {};

    // Stack of scoped handles.
    this.handleStack = [];

    // Stack of active scopes where each value is represented by the size of
    // the handleStack at the beginning of the scope.  When an active scope
    // is popped, the handleStack is restored to where it was when the
    // scope was entered.
    this.scopeIndices = [];
  }

  // Number of valid IDs.  This is the number of objects (global and local)
  // kept alive by this table.
  ProxiedObjectTable.prototype.count = function () {
    return Object.keys(this.map).length;
  }

  // Number of total IDs ever allocated.
  ProxiedObjectTable.prototype.total = function () {
    return this.count() + this._deletedCount;
  }

  // Adds an object to the table and return an ID for serialization.
  ProxiedObjectTable.prototype.add = function (obj) {
    if (this.scopeIndices.length == 0) {
      throw "Cannot allocate a proxy outside of a scope.";
    }
    // TODO(vsm): Cache refs for each obj?
    var ref = this.name + '-' + this._nextId++;
    this.handleStack.push(ref);
    this.map[ref] = obj;
    return ref;
  }

  ProxiedObjectTable.prototype._initializeOnce = function () {
    if (!this._initialized) {
      this._initialize();
      this._initialized = true;
    }
  }

  // Enters a new scope for this table.
  ProxiedObjectTable.prototype.enterScope = function() {
    this._initializeOnce();
    this.scopeIndices.push(this.handleStack.length);
  }

  // Invalidates all non-global IDs in the current scope and
  // exit the current scope.
  ProxiedObjectTable.prototype.exitScope = function() {
    var start = this.scopeIndices.pop();
    for (var i = start; i < this.handleStack.length; ++i) {
      var key = this.handleStack[i];
      if (!this.globalIds.hasOwnProperty(key)) {
        delete this.map[this.handleStack[i]];
        this._deletedCount++;
      }
    }
    this.handleStack = this.handleStack.splice(0, start);
  }

  // Makes this ID globally scope.  It must be explicitly invalidated.
  ProxiedObjectTable.prototype.globalize = function(id) {
    this.globalIds[id] = true;
  }

  // Invalidates this ID, potentially freeing its corresponding object.
  ProxiedObjectTable.prototype.invalidate = function(id) {
    var old = this.get(id);
    delete this.globalIds[id];
    delete this.map[id];
    this._deletedCount++;
  }

  // Gets the object or function corresponding to this ID.
  ProxiedObjectTable.prototype.get = function (id) {
    if (!this.map.hasOwnProperty(id)) {
      throw 'Proxy ' + id + ' has been invalidated.'
    }
    return this.map[id];
  }

  ProxiedObjectTable.prototype._initialize = function () {
    // Configure this table's port to forward methods, getters, and setters
    // from the remote proxy to the local object.
    var table = this;

    this.port.receive(function (message) {
      // TODO(vsm): Support a mechanism to register a handler here.
      try {
        var object = table.get(message[0]);
        var receiver = unbind(object);
        var member = message[1];
        var kind = message[2];
        var args = message[3].map(deserialize);
        if (kind == 'get') {
          // Getter.
          var field = member;
          if (field in receiver && args.length == 0) {
            var result = bindIfFunction(receiver[field], receiver);
            return [ 'return', serialize(result) ];
          }
        } else if (kind == 'set') {
          // Setter.
          var field = member;
          if (args.length == 1) {
            return [ 'return', serialize(receiver[field] = args[0]) ];
          }
        } else if (kind == 'apply') {
          // Direct function invocation.
          var _this = getBoundThis(object);
          return [ 'return', serialize(receiver.apply(_this, args)) ];
        } else if (member == '[]' && args.length == 1) {
          // Index getter.
          var result = bindIfFunction(receiver[args[0]], receiver);
          return [ 'return', serialize(result) ];
        } else if (member == '[]=' && args.length == 2) {
          // Index setter.
          return [ 'return', serialize(receiver[args[0]] = args[1]) ];
        } else {
          // Member function invocation.
          var f = receiver[member];
          if (f) {
            var result = f.apply(receiver, args);
            return [ 'return', serialize(result) ];
          }
        }
        return [ 'none' ];
      } catch (e) {
        return [ 'throws', e.toString() ];
      }
    });
  }

  // Singleton for local proxied objects.
  var proxiedObjectTable = new ProxiedObjectTable();

  // DOM element serialization code.
  var _localNextElementId = 0;
  var _DART_ID = 'data-dart_id';
  var _DART_TEMPORARY_ATTACHED = 'data-dart_temporary_attached';

  function serializeElement(e) {
    // TODO(vsm): Use an isolate-specific id.
    var id;
    if (e.hasAttribute(_DART_ID)) {
      id = e.getAttribute(_DART_ID);
    } else {
      id = (_localNextElementId++).toString();
      e.setAttribute(_DART_ID, id);
    }
    if (e !== document.documentElement) {
      // Element must be attached to DOM to be retrieve in js part.
      // Attach top unattached parent to avoid detaching parent of "e" when
      // appending "e" directly to document. We keep count of elements
      // temporarily attached to prevent detaching top unattached parent to
      // early. This count is equals to the length of _DART_TEMPORARY_ATTACHED
      // attribute. There could be other elements to serialize having the same
      // top unattached parent.
      var top = e;
      while (true) {
        if (top.hasAttribute(_DART_TEMPORARY_ATTACHED)) {
          var oldValue = top.getAttribute(_DART_TEMPORARY_ATTACHED);
          var newValue = oldValue + "a";
          top.setAttribute(_DART_TEMPORARY_ATTACHED, newValue);
          break;
        }
        if (top.parentNode == null) {
          top.setAttribute(_DART_TEMPORARY_ATTACHED, "a");
          document.documentElement.appendChild(top);
          break;
        }
        if (top.parentNode === document.documentElement) {
          // e was already attached to dom
          break;
        }
        top = top.parentNode;
      }
    }
    return id;
  }

  function deserializeElement(id) {
    // TODO(vsm): Clear the attribute.
    var list = document.querySelectorAll('[' + _DART_ID + '="' + id + '"]');

    if (list.length > 1) throw 'Non unique ID: ' + id;
    if (list.length == 0) {
      throw 'Element must be attached to the document: ' + id;
    }
    var e = list[0];
    if (e !== document.documentElement) {
      // detach temporary attached element
      var top = e;
      while (true) {
        if (top.hasAttribute(_DART_TEMPORARY_ATTACHED)) {
          var oldValue = top.getAttribute(_DART_TEMPORARY_ATTACHED);
          var newValue = oldValue.substring(1);
          top.setAttribute(_DART_TEMPORARY_ATTACHED, newValue);
          // detach top only if no more elements have to be unserialized
          if (top.getAttribute(_DART_TEMPORARY_ATTACHED).length === 0) {
            top.removeAttribute(_DART_TEMPORARY_ATTACHED);
            document.documentElement.removeChild(top);
          }
          break;
        }
        if (top.parentNode === document.documentElement) {
          // e was already attached to dom
          break;
        }
        top = top.parentNode;
      }
    }
    return e;
  }


  // Type for remote proxies to Dart objects.
  function DartProxy(id, sendPort) {
    this.id = id;
    this.port = sendPort;
  }

  // Serializes JS types to SendPortSync format:
  // - primitives -> primitives
  // - sendport -> sendport
  // - DOM element -> [ 'domref', element-id ]
  // - Function -> [ 'funcref', function-id, sendport ]
  // - Object -> [ 'objref', object-id, sendport ]
  function serialize(message) {
    if (message == null) {
      return null;  // Convert undefined to null.
    } else if (typeof(message) == 'string' ||
               typeof(message) == 'number' ||
               typeof(message) == 'boolean') {
      // Primitives are passed directly through.
      return message;
    } else if (message instanceof SendPortSync) {
      // Non-proxied objects are serialized.
      return message;
    } else if (message instanceof Element &&
        (message.ownerDocument == null || message.ownerDocument == document)) {
      return [ 'domref', serializeElement(message) ];
    } else if (message instanceof BoundFunction &&
               typeof(message.object) == 'function') {
      // Local function proxy.
      return [ 'funcref',
               proxiedObjectTable.add(message),
               proxiedObjectTable.sendPort ];
    } else if (typeof(message) == 'function') {
      if ('_dart_id' in message) {
        // Remote function proxy.
        var remoteId = message._dart_id;
        var remoteSendPort = message._dart_port;
        return [ 'funcref', remoteId, remoteSendPort ];
      } else {
        // Local function proxy.
        return [ 'funcref',
                 proxiedObjectTable.add(message),
                 proxiedObjectTable.sendPort ];
      }
    } else if (message instanceof DartProxy) {
      // Remote object proxy.
      return [ 'objref', message.id, message.port ];
    } else {
      // Local object proxy.
      return [ 'objref',
               proxiedObjectTable.add(message),
               proxiedObjectTable.sendPort ];
    }
  }

  function deserialize(message) {
    if (message == null) {
      return null;  // Convert undefined to null.
    } else if (typeof(message) == 'string' ||
               typeof(message) == 'number' ||
               typeof(message) == 'boolean') {
      // Primitives are passed directly through.
      return message;
    } else if (message instanceof SendPortSync) {
      // Serialized type.
      return message;
    }
    var tag = message[0];
    switch (tag) {
      case 'funcref': return deserializeFunction(message);
      case 'objref': return deserializeObject(message);
      case 'domref': return deserializeElement(message[1]);
    }
    throw 'Unsupported serialized data: ' + message;
  }

  // Create a local function that forwards to the remote function.
  function deserializeFunction(message) {
    var id = message[1];
    var port = message[2];
    // TODO(vsm): Add a more robust check for a local SendPortSync.
    if ("receivePort" in port) {
      // Local function.
      return unbind(proxiedObjectTable.get(id));
    } else {
      // Remote function.  Forward to its port.
      var f = function () {
        var depth = enterScope();
        try {
          var args = Array.prototype.slice.apply(arguments);
          args.splice(0, 0, this);
          args = args.map(serialize);
          var result = port.callSync([id, '#call', args]);
          if (result[0] == 'throws') throw deserialize(result[1]);
          return deserialize(result[1]);
        } finally {
          exitScope(depth);
        }
      };
      // Cache the remote id and port.
      f._dart_id = id;
      f._dart_port = port;
      return f;
    }
  }

  // Creates a DartProxy to forwards to the remote object.
  function deserializeObject(message) {
    var id = message[1];
    var port = message[2];
    // TODO(vsm): Add a more robust check for a local SendPortSync.
    if ("receivePort" in port) {
      // Local object.
      return proxiedObjectTable.get(id);
    } else {
      // Remote object.
      return new DartProxy(id, port);
    }
  }

  // Remote handler to construct a new JavaScript object given its
  // serialized constructor and arguments.
  function construct(args) {
    args = args.map(deserialize);
    var constructor = unbind(args[0]);
    args = Array.prototype.slice.call(args, 1);

    // Until 10 args, the 'new' operator is used. With more arguments we use a
    // generic way that may not work, particulary when the constructor does not
    // have an "apply" method.
    var ret = null;
    if (args.length === 0) {
      ret = new constructor();
    } else if (args.length === 1) {
      ret = new constructor(args[0]);
    } else if (args.length === 2) {
      ret = new constructor(args[0], args[1]);
    } else if (args.length === 3) {
      ret = new constructor(args[0], args[1], args[2]);
    } else if (args.length === 4) {
      ret = new constructor(args[0], args[1], args[2], args[3]);
    } else if (args.length === 5) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4]);
    } else if (args.length === 6) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4],
                            args[5]);
    } else if (args.length === 7) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4],
                            args[5], args[6]);
    } else if (args.length === 8) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4],
                            args[5], args[6], args[7]);
    } else if (args.length === 9) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4],
                            args[5], args[6], args[7], args[8]);
    } else if (args.length === 10) {
      ret = new constructor(args[0], args[1], args[2], args[3], args[4],
                            args[5], args[6], args[7], args[8], args[9]);
    } else {
      // Dummy Type with correct constructor.
      var Type = function(){};
      Type.prototype = constructor.prototype;
  
      // Create a new instance
      var instance = new Type();
  
      // Call the original constructor.
      ret = constructor.apply(instance, args);
      ret = Object(ret) === ret ? ret : instance;
    }
    return serialize(ret);
  }

  // Remote handler to return the top-level JavaScript context.
  function context(data) {
    return serialize(globalContext);
  }

  // Remote handler to track number of live / allocated proxies.
  function proxyCount() {
    var live = proxiedObjectTable.count();
    var total = proxiedObjectTable.total();
    return [live, total];
  }

  // Return true if two JavaScript proxies are equal (==).
  function proxyEquals(args) {
    return deserialize(args[0]) == deserialize(args[1]);
  }

  // Return true if a JavaScript proxy is instance of a given type (instanceof).
  function proxyInstanceof(args) {
    var obj = unbind(deserialize(args[0]));
    var type = unbind(deserialize(args[1]));
    return obj instanceof type;
  }

  // Return true if a JavaScript proxy has a given property.
  function proxyHasProperty(args) {
    var obj = unbind(deserialize(args[0]));
    var member = unbind(deserialize(args[1]));
    return member in obj;
  }

  // Delete a given property of object.
  function proxyDeleteProperty(args) {
    var obj = unbind(deserialize(args[0]));
    var member = unbind(deserialize(args[1]));
    delete obj[member];
  }

  function proxyConvert(args) {
    return serialize(deserializeDataTree(args));
  }

  function deserializeDataTree(data) {
    var type = data[0];
    var value = data[1];
    if (type === 'map') {
      var obj = {};
      for (var i = 0; i < value.length; i++) {
        obj[value[i][0]] = deserializeDataTree(value[i][1]);
      }
      return obj;
    } else if (type === 'list') {
      var list = [];
      for (var i = 0; i < value.length; i++) {
        list.push(deserializeDataTree(value[i]));
      }
      return list;
    } else /* 'simple' */ {
      return deserialize(value);
    }
  }

  function makeGlobalPort(name, f) {
    var port = new ReceivePortSync();
    port.receive(f);
    window.registerPort(name, port.toSendPort());
  }

  // Enters a new scope in the JavaScript context.
  function enterJavaScriptScope() {
    proxiedObjectTable.enterScope();
  }

  // Enters a new scope in both the JavaScript and Dart context.
  var _dartEnterScopePort = null;
  function enterScope() {
    enterJavaScriptScope();
    if (!_dartEnterScopePort) {
      _dartEnterScopePort = window.lookupPort('js-dart-enter-scope');
    }
    return _dartEnterScopePort.callSync([]);
  }

  // Exits the current scope (and invalidate local IDs) in the JavaScript
  // context.
  function exitJavaScriptScope() {
    proxiedObjectTable.exitScope();
  }

  // Exits the current scope in both the JavaScript and Dart context.
  var _dartExitScopePort = null;
  function exitScope(depth) {
    exitJavaScriptScope();
    if (!_dartExitScopePort) {
      _dartExitScopePort = window.lookupPort('js-dart-exit-scope');
    }
    return _dartExitScopePort.callSync([ depth ]);
  }

  makeGlobalPort('dart-js-context', context);
  makeGlobalPort('dart-js-create', construct);
  makeGlobalPort('dart-js-proxy-count', proxyCount);
  makeGlobalPort('dart-js-equals', proxyEquals);
  makeGlobalPort('dart-js-instanceof', proxyInstanceof);
  makeGlobalPort('dart-js-has-property', proxyHasProperty);
  makeGlobalPort('dart-js-delete-property', proxyDeleteProperty);
  makeGlobalPort('dart-js-convert', proxyConvert);
  makeGlobalPort('dart-js-enter-scope', enterJavaScriptScope);
  makeGlobalPort('dart-js-exit-scope', exitJavaScriptScope);
  makeGlobalPort('dart-js-globalize', function(data) {
    if (data[0] == "objref" || data[0] == "funcref") return proxiedObjectTable.globalize(data[1]);
    throw 'Illegal type: ' + data[0];
  });
  makeGlobalPort('dart-js-invalidate', function(data) {
    if (data[0] == "objref" || data[0] == "funcref") return proxiedObjectTable.invalidate(data[1]);
    throw 'Illegal type: ' + data[0];
  });
})();
"""; TO(h){final g=new CB.ScriptElement();g.type='text/javascript';g.innerHtml=h;CB.document.body.nodes.add(g);}var xD=null;var VJ=null;var UO=null;var WJ=null;var VO=null;var WO=null;var XO=null;var XJ=null;var YJ=null;var ZJ=null;var YO=null;var ZO=null;var aJ=null;var bJ=null; aO(){if(xD!=null)return;try {xD=CB.window.lookupPort('dart-js-context');}catch (h){}if(xD==null){TO(SO);xD=CB.window.lookupPort('dart-js-context');}VJ=CB.window.lookupPort('dart-js-create');UO=CB.window.lookupPort('dart-js-proxy-count');WJ=CB.window.lookupPort('dart-js-equals');VO=CB.window.lookupPort('dart-js-instanceof');WO=CB.window.lookupPort('dart-js-has-property');XO=CB.window.lookupPort('dart-js-delete-property');XJ=CB.window.lookupPort('dart-js-convert');YJ=CB.window.lookupPort('dart-js-enter-scope');ZJ=CB.window.lookupPort('dart-js-exit-scope');YO=CB.window.lookupPort('dart-js-globalize');ZO=CB.window.lookupPort('dart-js-invalidate');aJ=new CB.ReceivePortSync()..receive((LY)=>eF());bJ=new CB.ReceivePortSync()..receive((g)=>fF(g[0]));CB.window.registerPort('js-dart-enter-scope',aJ.toSendPort());CB.window.registerPort('js-dart-exit-scope',bJ.toSendPort());} get aC{yD();return hD(xD.callSync([] ));}get bO=>iB.MY.length; yD(){if(bO==0){var g=eF();v.runAsync(()=>fF(g));}}eD(g){var h=eF();try {return g();}finally {fF(h);}} eF(){aO();iB.TQ();YJ.callSync([] );return iB.MY.length;} fF( g){assert(iB.MY.length==g);ZJ.callSync([] );iB.VQ();} cJ( g)=>new SC.ET(g);class MS implements gD<fD>{var NY;var OY;var PY;aO(g){NY=g;OY=iB.add(PY);iB.eQ(OY);}QY(){var g=iB.kQ(OY);} XI()=>new fD.FT(iB.HF,OY);dispose(){assert(NY);QY();}MS.BT( h,{ withThis: false}){PY=( g){try {return Function.apply(h,withThis?g:g.skip(1).toList());}finally {QY();}};aO(false);}MS.CT( h,{ withThis: false}){PY=( g)=>Function.apply(h,withThis?g:g.skip(1).toList());aO(true);}}class NS{const NS();}const wB=const NS(); dJ(i,m,k,j,p,o){final g=[i,m,k,j,p,o];final h=g.indexOf(wB);if(h<0)return g;return g.sublist(0,h);}class SC implements gD<SC>{var RY;final OY;factory SC( h,[g=wB,k=wB,j=wB,i=wB,p=wB,m=wB]){var o=dJ(g,k,j,i,p,m);return new SC.DT(h,o);}factory SC.DT( g, h){yD();final i=([g]..addAll(h)).map(FD).toList();final j=VJ.callSync(i);return hD(j);}factory SC.ET(g){yD();return cO(g);}static cO(g){return hD(XJ.callSync(gF(g)));}static gF(g){if(g is Map){final h=new List();for(var i in g.keys){h.add([i,gF(g[i])]);}return ['map',h];}else if(g is Iterable){return ['list',g.map(gF).toList()];}else{return ['simple',FD(g)];}}SC.FT(this.RY,this.OY); XI()=>this;operator[](g)=>zD(this,'[]','method',[g]);operator[]=(h,g)=>zD(this,'[]=','method',[h,g]);operator==(g)=>identical(this,g)?true:(g is SC&&WJ.callSync([FD(this),FD(g)])); toString(){try {return zD(this,'toString','method',[] );}catch (g){return super.toString();}}noSuchMethod( i){var g=nK.MirrorSystem.getName(i.memberName);if(g.indexOf('@')!=-1){g=g.substring(0,g.indexOf('@'));}var h;var j=i.positionalArguments;if(j==null)j=[] ;if(i.isGetter){h='get';}else if(i.isSetter){h='set';if(g.endsWith('=')){g=g.substring(0,g.length-1);}}else if(g=='call'){h='apply';}else{h='method';}return zD(this,g,h,j);}static zD( g, i, k, j){yD();var h=g.RY.callSync([g.OY,i,k,j.map(FD).toList()]);switch (h[0]){case 'return':return hD(h[1]);case 'throws':throw hD(h[1]);case 'none':throw new NoSuchMethodError(g,i,j,{});default:throw 'Invalid return value';}}}class fD extends SC implements gD<fD>{fD.FT( h,g):super.FT(h,g);call([g=wB,j=wB,i=wB,h=wB,o=wB,k=wB]){var m=dJ(g,j,i,h,o,k);return SC.zD(this,'','apply',m);}}abstract class gD<dO>{ XI();}class eO{final  SY;var TY;var UY;final  VY;final  RY;final  WY;final  XY;final  MY;TQ(){MY.add(XY.length);}VQ(){var h=MY.removeLast();for(int g=h;g<XY.length; ++g){var i=XY[g];if(!WY.contains(i)){VY.remove(XY[g]);UY++ ;}}if(h!=XY.length){XY.removeRange(h,XY.length-h);}}eQ(g)=>WY.add(g);kQ(g){var h=VY[g];WY.remove(g);VY.remove(g);UY++ ;return h;}eO():SY='dart-ref',TY=0,UY=0,VY={},RY=new CB.ReceivePortSync(),XY=new List<String>(),MY=new List<int>(),WY=new Set<String>(){RY.receive((g){try {final h=VY[g[0]];final k=g[1];final j=g[2].map(hD).toList();if(k=='#call'){final m=h as Function;var o=FD(m(j));return ['return',o];}else{throw 'Invocation unsupported on non-function Dart proxies';}}catch (i){return ['throws','${i}'];}});} add(h){yD();final g='${SY}-${TY++ }';VY[g]=h;XY.add(g);return g;}Object get( g){return VY[g];}get HF=>RY.toSendPort();}var iB=new eO();FD(var g){if(g==null){return null;}else if(g is String||g is num||g is bool){return g;}else if(g is hB.SendPortSync){return g;}else if(g is CB.Element&&(g.document==null||g.document==CB.document)){return ['domref',gO(g)];}else if(g is fD){return ['funcref',g.OY,g.RY];}else if(g is SC){return ['objref',g.OY,g.RY];}else if(g is gD){return FD(g.XI());}else{return ['objref',iB.add(g),iB.HF];}}hD(var g){m(g){var h=g[1];var i=g[2];if(i==iB.HF){return iB.get(h);}else{return new fD.FT(i,h);}}k(g){var h=g[1];var i=g[2];if(i==iB.HF){return iB.get(h);}else{return new SC.FT(i,h);}}if(g==null){return null;}else if(g is String||g is num||g is bool){return g;}else if(g is hB.SendPortSync){return g;}var j=g[0];switch (j){case 'funcref':return m(g);case 'objref':return k(g);case 'domref':return hO(g[1]);}throw 'Unsupported serialized data: ${g}';}var fO=0;const cE='data-dart_id';const bC='data-dart_temporary_attached';gO( h){var i;if(h.attributes.containsKey(cE)){i=h.attributes[cE];}else{i='dart-${fO++ }';h.attributes[cE]=i;}if(!identical(h,CB.document.documentElement)){var g=h;while (true){if(g.attributes.containsKey(bC)){final j=g.attributes[bC];final k=j+'a';g.attributes[bC]=k;break;}if(g.parent==null){g.attributes[bC]='a';CB.document.documentElement.children.add(g);break;}if(identical(g.parent,CB.document.documentElement)){break;}g=g.parent;}}return i;} hO(var i){var j=CB.queryAll('[${cE}="${i}"]');if(j.length>1)throw 'Non unique ID: ${i}';if(j.length==0){throw 'Only elements attached to document can be serialized: ${i}';}final h=j[0];if(!identical(h,CB.document.documentElement)){var g=h;while (true){if(g.attributes.containsKey(bC)){final k=g.attributes[bC];final m=k.substring(1);g.attributes[bC]=m;if(g.attributes[bC].length==0){g.attributes.remove(bC);g.remove();}break;}if(identical(g.parent,CB.document.documentElement)){break;}g=g.parent;}}return h;}class OS<AE> extends eJ<AE>{ YY(){return new Map<String,AE>();}}abstract class eJ<AE> extends dE<AE>{var KF;eJ():super.GT(); open(){KF=YY();ZY=true;return new v.Future.value(true);} YY(); bY(){return new v.Stream.fromIterable(KF.keys);} cY( h, g){KF[g]=h;return new v.Future.value(g);} eY(){return new v.Stream.fromIterable(KF.values);}}class iO<AE> extends dE<AE>{static final  kO="1";static const  lO=5*1024*1024;var qD;var AC;var estimatedSize;var aY;iO(this.qD,this.AC,{this.estimatedSize: lO}):super.GT();static  get fJ=>oK.SqlDatabase.supported; open(){if(!fJ){return new v.Future.error(new UnsupportedError('WebSQL is not supported on this platform'));}var g=new v.Completer();aY=CB.window.openDatabase(qD,kO,qD,estimatedSize);dY(g);return g.future;} dY( h){var i='CREATE TABLE IF NOT EXISTS ${AC} (id NVARCHAR(32) UNIQUE PRIMARY KEY, value TEXT)';aY.transaction((g){g.executeSql(i,[] ,(g,k){ZY=true;h.complete(true);});},(j)=>h.completeError(j));} bY(){var k='SELECT id FROM ${AC}';var g=new v.StreamController();aY.transaction((j){j.executeSql(k,[] ,(j,i){for(var h=0;h<i.rows.length; ++h){var m=i.rows.item(h);g.add(m['id']);}});},(o)=>g.addError(o),()=>g.close());return g.stream;} cY( j, h){var g=new v.Completer();var k='INSERT OR REPLACE INTO ${AC} (id, value) VALUES (?, ?)';aY.transaction((i){i.executeSql(k,[h,j],(i,o){g.complete(h);});},(m)=>g.completeError(m));return g.future;} eY(){var k='SELECT id,value FROM ${AC}';var g=new v.StreamController<AE>();aY.transaction((j){j.executeSql(k,[] ,(j,i){for(var h=0;h<i.rows.length; ++h){var m=i.rows.item(h);g.add(m['value']);}});},(o)=>g.addError(o),()=>g.close());return g.stream;}}class jO<AE> extends dE<AE>{var qD;var version;var aY;var AC;jO(this.qD,this.AC,{this.version: 1}):super.GT(){if(version==null){throw new ArgumentError("version must not be null");}}static  get fJ=>jI.IdbFactory.supported; open(){if(!fJ){return new v.Future.error(new UnsupportedError('IndexedDB is not supported on this platform'));}return CB.window.indexedDB.open(qD,version:version,onUpgradeNeeded:(g){aY=g.target.result;if(!aY.objectStoreNames.contains(AC)){aY.createObjectStore(AC);}}).then((h){aY=h;ZY=true;return true;});} cY( g, i){return fY(( h){return h.put(g,i);});} fY( i( store),[ h='readwrite']){var m=new v.Completer();var g=aY.transaction(AC,h);var j=g.objectStore(AC);var k=i(j);return g.completed.then((GT)=>k);} gY( h( cursor)){var g=new v.StreamController<AE>();var j=aY.transaction(AC,'readonly');var i=j.objectStore(AC);i.openCursor(autoAdvance:true).listen((k)=>g.add(h(k)),onDone:()=>g.close(),onError:(m)=>g.addError(m));return g.stream;} eY(){return gY(( g)=>g.value);} bY(){return gY(( g)=>g.key);}}class PS<AE> extends eJ<AE>{ YY(){return CB.window.localStorage;}}abstract class dE<AE>{var ZY=false; get mQ=>ZY;dE.GT();factory dE( i, h,[ g]){if(jO.fJ){if(g!=null&&g['version']!=null){return new jO(i,h,version:g['version']);}else{return new jO(i,h);}}else if(iO.fJ){if(g!=null&&g['estimatedSize']){return new iO(i,h,estimatedSize:g['estimatedSize']);}else{return new iO(i,h);}}else{return new PS();}}hY(){if(!mQ)throw new StateError('${runtimeType} is not open');} open(); keys(){hY();return bY();} bY(); save( h, g){hY();if(g==null){throw new ArgumentError("key must not be null");}return cY(h,g);} cY( g, h); JQ(){hY();return eY();} eY();}var eE=false;var gJ=QB.hJ;class cC{final  name; get MK=>(parent==null||parent.name=='')?name:'${parent.MK}.${name}';final  parent;var iY;var children;var jY;var kY;factory cC( g){if(g.startsWith('.')){throw new ArgumentError("name shouldn't start with a '.'");}if(BE==null)BE=<String,cC>{};if(BE.containsKey(g))return BE[g];var j=g.lastIndexOf('.');var h=null;var i;if(j==-1){if(g!='')h=new cC('');i=g;}else{h=new cC(g.substring(0,j));i=g.substring(j+1);}final k=new cC.HT(i,h);BE[g]=k;return k;}cC.HT(this.name,this.parent):children=new Map<String,cC>(){if(parent!=null)parent.children[name]=this;} get VD{if(eE){if(iY!=null)return iY;if(parent!=null)return parent.VD;}return gJ;}set VD( g){if(eE&&parent!=null){iY=g;}else{if(parent!=null){throw new UnsupportedError('Please set "hierarchicalLoggingEnabled" to true if you want to ' 'change the level on a non-root logger.');}gJ=g;}} get uQ=>lY(); lQ( g)=>(g>=VD); log( i, j){if(lQ(i)){var h=new iD(i,j,MK);if(eE){var g=this;while (g!=null){g.mY(h);g=g.parent;}}else{fE.mY(h);}}} rD( g)=>log(QB.nO,g); VC( g)=>log(QB.oO,g); info( g)=>log(QB.hJ,g); lY(){if(eE||parent==null){if(jY==null){jY=new v.StreamController<iD>(sync:true);kY=jY.stream.asBroadcastStream();}return kY;}else{return fE.lY();}} mY( g){if(jY!=null){jY.add(g);}}static  get fE=>new cC('');static var BE;}class QB implements Comparable<QB>{final  name;final  value;const QB(this.name,this.value);static const  mO=const QB('ALL',0);static const  nO=const QB('FINE',500);static const  oO=const QB('CONFIG',700);static const  hJ=const QB('INFO',800); operator==( g)=>g!=null&&value==g.value; operator<( g)=>value<g.value; operator<=( g)=>value<=g.value; operator>( g)=>value>g.value; operator>=( g)=>value>=g.value; compareTo( g)=>value-g.value; get hashCode=>value; toString()=>name;}class iD{final  VD;final  message;final  VK;final  time;final  gK;static var pO=0;var exception;var exceptionText;iD(this.VD,this.message,this.VK,[g,this.exception,this.exceptionText]):this.time=(g==null)?new DateTime.now():g,this.gK=iD.pO++ ;}const QS=const RS();class RS{const RS();}const SS=const TS();class TS{const TS();}class EB{static const  jD=94;static const  gE=6;static const  jB=4;static const  qO=const{'A':1,'B':3,'C':3,'D':2,'E':1,'F':4,'G':2,'H':4,'I':1,'J':8,'K':5,'L':1,'M':3,'N':1,'O':1,'P':3,'QU':10,'R':1,'S':1,'T':1,'U':1,'V':4,'W':4,'X':8,'Y':4,'Z':10};static  hF( g, h){return g*EB.jB+h;}static  iF( g){return g~/EB.jB;}static  jF( g){return g%EB.jB;}static  rO( h){var i=[] ;for(int g=0;g<h.length;g++ ){if((h[g]=='Q'&&g+1>=h.length)||(h[g]=='Q'&&h[g+1]!='U')){return [] ;}if(h[g]=='Q'){i.add('QU');g++ ;}else{i.add(h[g]);}}return i;}}var hE; sO( h, g){hE=new dE(h,g);return hE.open();}var tO=0;final  uO=new DateTime.now().millisecondsSinceEpoch.toString();abstract class iJ{var nY;static  vO( h){var i=nK.reflectClass(h);return hE.JQ().map(( g){return wO(i,g);});} IR(){return hE.save(l(),FK);}static wO( j, k){var m=j.newInstance(const Symbol(''),[] );var i=m.reflectee;var o=nK.reflect(i);k.forEach((h,g){print('${h} has ${g} which is a ${g.runtimeType}');if(j.variables.containsKey(new Symbol(h))){o.setField(new Symbol(h),g);}});return i;} get FK{if(nY==null){nY=uO+'-'+(tO++ ).toString();}return nY;} l();}class jJ{var MD=new List<lF>();var oY=new mK.Random();jJ( j){final  k=new StringBuffer();j.split('\n').forEach(( g){if(g.trim().length<32)return;var i=g.substring(0,32).split(' ').join('');var h=g.substring(33).split(' ');MD.add(new lF(i,h));});} cQ(){var g=oY.nextInt(MD.length);return MD[g];}}class kF extends Object with iJ{var rB;var OC;var jC;var FC=<String>[] ;var SK;kF(); set pQ( g){SK=g.millisecondsSinceEpoch.toDouble();} l(){return {'board':rB,'score':OC,'timeRemaining':jC,'words':FC,'lastPlayedMillisSinceEpoch':SK};}}class lF{final  pY;final  qY;lF(this.pY,this.qY); xE( i, g){var h=i*4+g;return pY[h];} get rB=>pY; gQ( g)=>qY.contains(g); rY( o, m, i, h, k, j, p){if(i<0||h<0||i>=4||h>=4){return false;}if(k[i][h]==true){return false;}if(xE(i,h)!=o[m]){return false;}j.add(i*4+h);if(o.length==m+1){p.add(new List.from(j));j.removeLast();return true;}k[i][h]=true;var g=false;g=rY(o,m+1,i-1,h-1,k,j,p)||g;g=rY(o,m+1,i-1,h,k,j,p)||g;g=rY(o,m+1,i-1,h+1,k,j,p)||g;g=rY(o,m+1,i+1,h-1,k,j,p)||g;g=rY(o,m+1,i+1,h,k,j,p)||g;g=rY(o,m+1,i+1,h+1,k,j,p)||g;g=rY(o,m+1,i,h-1,k,j,p)||g;g=rY(o,m+1,i,h+1,k,j,p)||g;k[i][h]=false;j.removeLast();return g;} sY( h, g, k, j){var i=new List.generate(EB.jB,(tY)=>new List<bool>(EB.jB));for(int h=0;h<EB.jB;h++ ){for(int g=0;g<EB.jB;g++ ){i[h][g]=false;}}return rY(k,0,h,g,i,[] ,j);} MI( m, i){var k=EB.rO(m);if(k.length==0){return false;}if(i==null){i=new Set<List<int>>();}var g=false;for(int j=0;j<EB.jB;j++ ){for(int h=0;h<EB.jB;h++ ){var o=sY(j,h,k,i);g=g||o;}}return g;} JR( h){var i='';for(int g=0;g<h.length;g++ ){var k=EB.iF(h[g]);var j=EB.jF(h[g]);var m=xE(k,j);i+= m;}return i;}}class xO<CC> extends TP with SB implements List<CC>{final  uY;xO([ g]):uY=g!=null?new List<CC>(g):<CC>[] ;factory xO.IT( g)=>new xO<CC>()..addAll(g); get length{if(OB)VB(this,BB.LB,'length');return uY.length;}set length( h){var i=uY.length;if(i==h)return;if(kB(this)){if(h<i){for(int g=i-1;g>=h;g-- ){JB(this,BB.pC,g,uY[g],null);}JB(this,BB.LB,'length',i,h);}else{JB(this,BB.LB,'length',i,h);for(int g=i;g<h;g++ ){JB(this,BB.oC,g,null,null);}}}uY.length=h;} operator[]( g){if(OB)VB(this,BB.DC,g);return uY[g];}operator[]=( g, h){var i=uY[g];if(kB(this)){JB(this,BB.DC,g,i,h);}uY[g]=h;} sublist( h,[ g])=>new xO<CC>.IT(super.sublist(h,g)); add( h){var g=uY.length;if(kB(this)){JB(this,BB.LB,'length',g,g+1);JB(this,BB.oC,g,null,h);}uY.add(h);} removeRange( h, g){if(g==0)return;oF.RP(this,h,g);if(kB(this)){for(int i=h;i<g;i++ ){JB(this,BB.pC,i,this[i],null);}}oF.nJ(this,h+g,this,h,this.length-g-h);this.length=this.length-g;} jQ( g, i,[ j]){if(i==0)return;if(i<0){throw new ArgumentError("invalid length specified ${i}");}if(g<0||g>this.length)throw new RangeError.value(g);if(kB(this)){for(int h=g;h<i;h++ ){JB(this,BB.oC,h,null,j);}}var k=this.length;this.length=k+i;oF.nJ(this,g,this,g+i,k-g);for(int h=g;h<g+i;h++ ){this[h]=j;}} insert( g, h)=>jQ(g,1,h); removeAt( g){var h=this[g];removeRange(g,1);return h;} toString(){if(OB){for(int g=0;g<length;g++ ){VB(this,BB.DC,g);}}return uY.toString();}}typedef  CE<dB,UB>();class kD<dB,UB> extends SB implements Map<dB,UB>{final  vY;var wY;var xY;kD({ createMap}):vY=createMap!=null?createMap():new Map<dB,UB>(){wY=new yO<dB,UB>(this);xY=new zO<dB,UB>(this);}factory kD.JT( i,{ createMap}){var g=new kD<dB,UB>(createMap:createMap);i.forEach(( h, j){g[h]=j;});return g;} get keys=>wY; get values=>xY; get length{if(OB)VB(this,BB.LB,'length');return vY.length;} get isEmpty=>length==0; get isNotEmpty=>length!=0; yY( g)=>VB(this,BB.DC,g); zY(){VB(this,BB.LB,'length');vY.keys.forEach(yY);} containsKey( g){if(OB)yY(g);return vY.containsKey(g);} operator[]( g){if(OB)yY(g);return vY[g];} operator[]=( h, g){var j=vY.length;var i=vY[h];vY[h]=g;if(kB(this)){if(j!=vY.length){JB(this,BB.LB,'length',j,vY.length);JB(this,BB.oC,h,i,g);}else if(i!=g){JB(this,BB.DC,h,i,g);}}} putIfAbsent( g, j()){if(OB)yY(g);var h=vY.length;var i=vY.putIfAbsent(g,j);if(kB(this)&&h!=vY.length){JB(this,BB.LB,'length',h,vY.length);JB(this,BB.oC,g,null,i);}return i;} remove( g){if(OB)yY(g);var h=vY.length;var i=vY.remove(g);if(kB(this)&&h!=vY.length){JB(this,BB.pC,g,i,null);JB(this,BB.LB,'length',h,vY.length);}return i;} addAll( h)=>h.forEach((g,i){this[g]=i;}); clear(){var g=vY.length;if(kB(this)&&g>0){vY.forEach((i,h){JB(this,BB.pC,i,h,null);});JB(this,BB.LB,'length',g,0);}vY.clear();} forEach( g( key, value)){if(OB)zY();vY.forEach(g);} toString()=>PF.Maps.mapToString(this);}class yO<dB,UB> extends PF.IterableBase<dB>{final  vY;yO(this.vY); get iterator=>new US<dB,UB>(vY);}class US<dB,UB> implements Iterator<dB>{final  vY;final  wY;var AZ=false;US( g):vY=g,wY=g.vY.keys.iterator; moveNext(){if(OB)VB(vY,BB.LB,'length');return AZ=wY.moveNext();} get current{var g=wY.current;if(OB&&AZ)vY.yY(g);return g;}}class zO<dB,UB> extends PF.IterableBase<UB>{final  vY;zO(this.vY); get iterator=>new VS<dB,UB>(vY);}class VS<dB,UB> implements Iterator<UB>{final  vY;final  wY;final  xY;var AZ;VS( g):vY=g,wY=g.vY.keys.iterator,xY=g.vY.values.iterator; moveNext(){if(OB)VB(vY,BB.LB,'length');var h=wY.moveNext();var g=xY.moveNext();if(h!=g){throw new StateError('keys and values should be the same length');}return AZ=g;} get current{if(OB&&AZ)vY.yY(wY.current);return xY.current;}}const WS=const XS();typedef  TC( e);typedef  AP( changes);typedef  xB();typedef  BP();class iE{final oldValue;final newValue;final  changes;iE(this.oldValue,this.newValue,[this.changes]); operator==(g){return g is iE&&oldValue==g.oldValue&&newValue==g.newValue&&changes==g.changes;} get hashCode=>OP(oldValue,newValue,changes); toString(){if(changes!=null)return '#<ChangeNotification to ${newValue}: ${changes}>';return '#<ChangeNotification from ${oldValue} to ${newValue}>';}}class BB{static const LB=1;static const DC=2;static const oC=DC|4;static const pC=DC|8;final  type;final key;final oldValue;final newValue;BB(this.type,this.key,this.oldValue,this.newValue); operator==(g){return g is BB&&type==g.type&&key==g.key&&oldValue==g.oldValue&&newValue==g.newValue;} get hashCode=>PP(type,key,oldValue,newValue); toString(){var g;switch (type){case LB:g='field';break;case DC:g='index';break;case oC:g='insert';break;case pC:g='remove';break;}return '#<ChangeRecord ${g} ${key} from ${oldValue} to ${newValue}>';}} CP(g, i,[ k]){if(g is SB){var h=g;return mF(h,(m){i(new iE(h,h,m));});}var j=new jE(g,i,k);if(!j.BZ()){return EP;}return j.CZ;} mF( g, i){if(g.nD==null)g.nD=new nF();var h=g.nD.add(i);return h.remove;}kJ(g){if(g is Map){var h=null;if(g is PF.SplayTreeMap){h=()=>new PF.SplayTreeMap();}else if(g is PF.LinkedHashMap){h=()=>new PF.LinkedHashMap();}return new kD.JT(g,createMap:h);}if(g is Set)return new mJ.KT(g);if(g is Iterable)return new xO.IT(g);return g;}class SB{var nD;var mD;final  hashCode= ++SB.DP;static var DP=0;} kB( g)=>g.nD!=null&&g.nD.head!=null; get OB=>lD!=null; VB( g, h,i)=>lD.DZ(g,h,i); JB( g, j,k, h, i){if((j&(BB.oC|BB.pC))==0){if(h==i)return;}if(GD==null){GD=[] ;QP(FP);}if(g.mD==null){g.mD=[] ;GD.add(g);}g.mD.add(new BB(j,k,h,i));} EP(){}var lD;var lJ=100;var GD;var HD; FP(){var m=0;while (GD!=null||HD!=null){var j=GD;GD=null;var i=HD;HD=null;if(m++ ==lJ){GP(j,i);return;}if(j!=null){for(var h in j){var p=h.mD;h.mD=null;for(var g=h.nD.head;g!=null;g=g.next){var k=g.value;try {k(p);}catch (q,o){DE(q,o,k,'from ${h}');}}}}if(i!=null){i.forEach((DB,w){w.EZ();});}}} GP( k, j){var g=[] ;if(k!=null){for(var i in k){var p=i.mD;g.add('${i} ${p}');}}if(j!=null){for(var m in j.values){var h=m.EZ();if(h!=null)g.add('${m} ${h}');}}GD=null;HD=null;var o='exceeded notifiction limit of ${lJ}, possible ' 'circular reference in observer callbacks: ${g.take(10).join(", ")}';JP(o);}class jE{static var HP=0;final  FZ= ++jE.HP;final  GZ;final  HZ;final  IZ;final  JZ=new Map();final  KZ=[] ;var LZ=false;var MZ;jE(this.GZ,this.HZ,this.IZ); toString()=>IZ!=null?'<observer ${FZ}: ${IZ}>':'<observer ${FZ}>'; BZ(){var h=lD;lD=this;try {MZ=GZ();if(MZ is Iterable&&MZ is !List&&MZ is !SB){MZ=(MZ as Iterable).toList();}}catch (g,i){DE(g,i,GZ,'from ${this}');MZ=null;}JZ.forEach(NZ);JZ.clear();assert(lD==this);lD=h;OZ();return KZ.length>0;} PZ( i){try {HZ(i);}catch (g,h){DE(g,h,HZ,'from ${this}');}} OZ(){var g=MZ;if(g is !SB)return;KZ.add(mF(g,(h){PZ(new iE(g,g,h));}));} DZ( m, o,g){var i=JZ.putIfAbsent(m,()=>new Map());try {var h=i[g];if(h==null)h=0;i[g]=h|o;}catch (j,k){DE(j,k,g,'hashCode or operator == from ${this}');}} NZ( i, j){KZ.add(mF(i,(k){if(LZ)return;for(var g in k){var h=j[g.key];if(h!=null&&(h&g.type)!=0){LZ=true;if(HD==null){HD=new PF.SplayTreeMap();}HD[FZ]=this;return;}}}));} CZ(){for(var g in KZ){g();}LZ=false;} EZ(){if(!LZ)return null;var g=MZ;CZ();BZ();try {if(g==MZ)return null;}catch (i,j){DE(i,j,g,'operator == from ${this}');return null;}var h=new iE(g,MZ);PZ(h);return h;}}typedef  IP( message);var JP=(g)=>print(g);typedef  KP(error,stackTrace,obj, message);var DE=LP; LP(i,g,h, j){print('web_ui.observe: unhandled error calling ${h} ${j}.\n' 'error:\n${i}\n\nstack trace:\n${g}');}class XS{const XS();}class YS<kE> extends SB{var QZ;YS([ g]):QZ=g; get value{if(OB)VB(this,BB.LB,'value');return QZ;} set value( g){if(kB(this)){JB(this,BB.LB,'value',QZ,g);}QZ=g;} toString()=>'#<${runtimeType} value: ${value}>';}class mJ<yB> extends SP with SB implements Set<yB>{final  RZ;final  SZ;mJ({ createMap}):RZ=createMap!=null?createMap():new Map<yB,Object>(),SZ=createMap;factory mJ.KT( g,{ createMap}){return new mJ<yB>(createMap:createMap)..addAll(g);} contains( g){if(OB)VB(this,BB.DC,g);return RZ.containsKey(g);} add( g){var h=RZ.length;RZ[g]=const Object();if(h!=RZ.length){JB(this,BB.LB,'length',h,RZ.length);JB(this,BB.oC,g,null,g);}} remove( g){if(OB)VB(this,BB.DC,g);var h=RZ.length;RZ.remove(g);if(h!=RZ.length){if(kB(this)){JB(this,BB.pC,g,g,null);JB(this,BB.LB,'length',h,RZ.length);}return true;}return false;} clear(){if(kB(this)){for(var g in RZ.keys){JB(this,BB.pC,g,g,null);}JB(this,BB.LB,'length',RZ.length,0);}RZ.clear();} get length{if(OB)VB(this,BB.LB,'length');return RZ.length;} get isEmpty=>length==0; get iterator=>new ZS<yB>(this); addAll( g)=>g.forEach(add); removeAll( g)=>g.forEach(remove); removeWhere( g( element))=>where(g).toList().forEach(remove); toString(){if(OB){for(yB g in RZ.keys){VB(this,BB.DC,g);}}return RZ.keys.toSet().toString();}}class ZS<yB> implements Iterator<yB>{final  TZ;final  UZ;var VZ=false;ZS( g):TZ=g,UZ=g.RZ.keys.iterator; moveNext(){TZ.length;return VZ=UZ.moveNext();} get current{var g=UZ.current;if(OB&&VZ)VB(TZ,BB.DC,g);return g;}}class MP{}class NP{}class pB<lB>{var WZ;var XZ;var YZ;var ZZ;pB.LT( g,this.YZ):ZZ=g{if(YZ!=null)YZ.aZ++ ;} get next=>XZ; get value=>ZZ;set value( g)=>ZZ=g; bZ( g, h){XZ=h;WZ=g;if(g!=null)g.XZ=this;if(h!=null)h.WZ=this;return this;} append( g)=>new pB<lB>.LT(g,YZ).bZ(this,XZ); prepend( g)=>new pB<lB>.LT(g,YZ).bZ(WZ,this); remove(){if(YZ==null)return;YZ.aZ-- ;if(WZ!=null){WZ.XZ=XZ;}else{YZ.cZ=XZ;}if(XZ!=null){XZ.WZ=WZ;}else{YZ.dZ=WZ;}XZ=null;WZ=null;YZ=null;}}class nF<lB> extends PF.IterableBase<lB>{var cZ;var dZ; get length=>aZ;var aZ=0;nF(){} get head=>cZ; add( h){var g=new pB<lB>.LT(h,this);if(dZ==null)return cZ=dZ=g;return dZ=g.bZ(dZ,null);} addLast( g)=>add(g); addAll( g)=>g.forEach(add); get iterator=>new aS<lB>(this);}class aS<lB> implements Iterator<lB>{var eZ;var YZ;var fZ;var gZ=-1;aS(this.YZ){eZ=new List<pB>(YZ.length);var h=0;var g=YZ.head;while (g!=null){eZ[h++ ]=g;g=g.next;}} get current=>fZ; moveNext(){do{gZ++ ;}while(gZ<eZ.length&&eZ[gZ].YZ!=YZ);if(gZ<eZ.length){fZ=eZ[gZ].value;return true;}else{fZ=null;return false;}}}EE(h,g)=>h.hashCode*31+g.hashCode;OP(h,g,i)=>EE(EE(h,g),i);PP(g,i,h,j)=>EE(EE(g,i),EE(h,j)); QP( h()){var g=new hB.ReceivePort();g.receive((i,j){g.close();h();});g.toSendPort().send(null);}class oF{static  nJ( m, g, o, i, k){if(g==null)g=0;if(i==null)i=0;if(g<i){for(int h=g+k-1,j=i+k-1;h>=g;h-- ,j-- ){o[j]=m[h];}}else{for(int h=g,j=i;h<g+k;h++ ,j++ ){o[j]=m[h];}}}static  RP( j, h, g){if(g<0){throw new ArgumentError("negative length ${g}");}if(h<0){var i="${h} must be greater than or equal to 0";throw new RangeError(i);}if(h+g>j.length){var i="${h} + ${g} must be in the range [0..${j.length})";throw new RangeError(i);}}}abstract class SP extends PF.IterableBase<dynamic>{}abstract class TP extends PF.ListMixin<dynamic>{} VP(i, g,[ h]){var j=i is MP;if(h==null){h=i.toString();}if(!j&&g is CB.Text){g.text=h;}else{var k=g;g=j?new CB.Element.html(h):new CB.Text(h);k.replaceWith(g);}return g;} pF( h, j,g){if(g==''||g==null)return;if(j){if(g is String){if(g.contains(' ')){h.classes.addAll(g.split(' '));}else{h.classes.add(g);}}else if(g is List<String>){h.classes.addAll(g.where((i)=>i!=null&&i!=''));}else{throw new ArgumentError('classes must be a String or List<String>.');}}else{if(g is String){if(g.contains(' ')){h.classes.removeAll(g.split(' '));}else{h.classes.remove(g);}}else if(g is List<String>){h.classes.removeAll(g.where((i)=>i!=null&&i!=''));}else{throw new ArgumentError('classes must be a String or List<String>.');}}} WP(h, g){if(g.oldValue!=null)h.classes.remove(g.oldValue);if(g.newValue!=null)h.classes.add(g.newValue);} XP( h, i()){return ID(i,(g){if(g.changes!=null){for(var j in g.changes)WP(h,j);}else{pF(h,false,g.oldValue);pF(h,true,g.newValue);}},'css-class-bind');} YP( i, h()){return ID(h,(g)=>oJ(i,g.oldValue,g.newValue),'css-style-bind');} oJ( h,i,g){if(g is !String&&g is !Map<String,String>){h.style.cssText='';throw new ArgumentError("style must be a String or Map<String, String>.");}if(g is String){h.style.cssText=g;}else{if(i is Map<String,String>){for(var j in i.keys){if(!g.containsKey(j)){h.style.removeProperty(j);}}}g.forEach(h.style.setProperty);}} ZP(g){if(g is NP)return g.toString();g=g.toString();return bP(g)?g:'#';}const aP=const["http","https","ftp","mailto"]; bP( h){var g=Uri.parse(h).scheme;if(g=='')return true;return aP.contains(g.toLowerCase())||"MAILTO"==g.toUpperCase();}abstract class qC{ fB(){} insert(); remove();}class bS extends qC{final  IK;var hZ;final  listener;bS(this.IK,this.listener); insert(){hZ=IK.listen(listener);} remove(){hZ.cancel();hZ=null;}}class cS extends qC{final exp;final  action;final  isFinal;var IB;cS(this.exp,this.action,this.isFinal); insert(){if(isFinal){action(new iE(null,exp()));}else if(IB!=null){throw new StateError('binding already attached');}else{IB=ID(exp,action,'generic-binding');}} remove(){if(!isFinal){IB();IB=null;}}}class dS extends qC{final exp;final  PD;final  isFinal;var IB;dS(this.PD,this.exp,this.isFinal); insert(){if(isFinal){oJ(PD,null,exp());}else if(IB!=null){throw new StateError('style binding already attached');}else{IB=YP(PD,exp);}} remove(){if(!isFinal){IB();IB=null;}}}class eS extends qC{final  PD;final exp;final  isFinal;var IB;eS(this.PD,this.exp,this.isFinal); insert(){if(isFinal){pF(PD,true,exp());}else if(IB!=null){throw new StateError('class binding already attached');}else{IB=XP(PD,exp);}} remove(){if(!isFinal){IB();IB=null;}}}class fS extends qC{final  hK;final  DH;final  QK;final  isFinal;var IB;fS(this.DH,this.hK,this.QK,this.isFinal); iZ(g){hK(QK?ZP(g):g);} insert(){if(isFinal){iZ(DH());}else if(IB!=null){throw new StateError('data binding already attached.');}else{IB=ID(DH,(g)=>iZ(g.newValue),'dom-property-binding');}} remove(){if(!isFinal){IB();IB=null;}}}class gS extends qC{final zB;gS(this.zB); fB(){zB..uC()..EK()..MQ();} insert(){zB..PK()..xC();} remove(){zB..zC()..bK();}}class HC extends qC{final  RE;final  children=[] ;final  nodes=[] ;HC(this.RE); listen( i, h){children.add(new bS(i,(g){h(g);gP();}));} bind(g, i, h){children.add(new cS(g,i,h));} KC( h,i){var g=new CB.Text('');children.add(new cS(()=>'${h()}',(j){g=VP(h(),g,j.newValue);},i));return g;} tD(g,j,h,[i=false]){children.add(new fS(g,j,i,h));} mB( h,g,i){children.add(new dP(h,g,i));} loop( h,g,i){children.add(new hS(h,g,i));} zB( g){children.add(new gS(g));} add( g)=>nodes.add(g); addAll( g)=>nodes.addAll(g); fB(){for(var g=0,h=children.length;g<h;g++ ){children[g].fB();}} insert(){for(var g=0,h=children.length;g<h;g++ ){children[g].insert();}} remove(){for(var g=children.length-1;g>=0;g-- ){children[g].remove();}children.clear();}}abstract class pJ extends HC{final exp;var IB;pJ( g,this.exp):super(g); fB(){} insert(){super.fB();if(nodes.length>0){var i=RE.parentNode;var j=RE.nextNode;for(var g=0,h=nodes.length;g<h;g++ ){i.insertBefore(nodes[g],j);}}super.insert();} remove(){super.remove();for(var g=nodes.length-1;g>=0;g-- ){nodes[g].remove();}nodes.clear();}}typedef  cP( template);class dP extends pJ{var NE=false;final  DK;dP( h,g,this.DK):super(h,g); insert(){IB=ID(exp,(g){if(!NE&&g.newValue){DK(this);super.insert();NE=true;}else if(NE&&!g.newValue){super.remove();NE=false;}},'conditional-binding');} remove(){super.remove();IB();IB=null;}}typedef  qJ( list, index, template);class hS extends pJ{final  OE;hS( h,g,this.OE):super(h,g); insert(){IB=ID(exp,(i){super.remove();var h=i.newValue;for(int g=0;g<h.length;g++ ){OE(h,g,this);}super.insert();},'loop-binding');} remove(){super.remove();IB();IB=null;}}class iS extends HC{final  OE;final exp;var IB;iS( g,this.exp,this.OE):super(g); fB(){} insert(){IB=ID(exp,(i){jZ();var h=i.newValue;for(int g=0;g<h.length;g++ ){OE(h,g,this);}super.fB();RE.nodes.addAll(nodes);super.insert();},'loop-attribute-binding');} jZ(){super.remove();RE.nodes.clear();nodes.clear();} remove(){jZ();IB();IB=null;}}var rJ=false; eP(g, m,[ k]){if(rJ)return CP(g,m);if(m==null)return (){};if(FE==null)FE=new nF<GE>();var i;var h=qB.iP;if(g is uJ){i=(g as uJ).kZ;}else if(g is Function){i=g;try {var j=g();if(j is List){h=qB.HE;}else if(j is Iterable){h=qB.HE;i=()=>g().toList();}else if((j is PF.LinkedHashMap)||(j is PF.SplayTreeMap)){h=qB.tF;}else if(j is Map){h=qB.sF;}}catch (p,w){print('error: evaluating ${k!=null?k:"<unnamed>"} ' 'watcher threw error (${p}, ${w})');}}else if(g is List){i=()=>g;h=qB.HE;}else if(g is Iterable){i=()=>g.toList();h=qB.HE;}else if((g is PF.LinkedHashMap)||(g is PF.SplayTreeMap)){i=()=>g;h=qB.tF;}else if(g is Map){i=()=>g;h=qB.sF;}var o=fP(h,i,m,k);var q=FE.add(o);return q.remove;} fP( j, g, i, h){switch (j){case qB.HE:return new jS(g,i,h);case qB.tF:return new lS(g,i,h);case qB.sF:return new kS(g,i,h);default:return new GE(g,i,h);}} ID(h,i,[j]){var k=eP(h,i,j);var g=h;if(g is Function){g=g();}if(g is Iterable&&g is !List){g=g.toList();}i(new iE(null,g));return k;}var FE;class GE{final  debugName;final  kZ;final  lZ;var mZ;GE(this.kZ,this.lZ,this.debugName){mZ=kZ();} toString()=>debugName==null?'<unnamed>':debugName; LQ(){var g=nZ();if(oZ(g)){var h=mZ;pZ(g);lZ(new iE(h,g));return true;}return false;} oZ(g)=>mZ!=g; pZ(g){mZ=g;}nZ(){try {return kZ();}catch (g,h){print('error: evaluating ${this} watcher threw an exception (${g}, ${h})');}return mZ;}}final  sJ=10; gP(){if(FE==null)return;var g;var h=0;do{g=false;for(var i in FE){if(i.LQ()){g=true;}}}while(g&& ++h<sJ);if(h==sJ){print('Possible loop in watchers propagation, stopped dispatch.');}}typedef  qF<lE>();typedef  tJ<lE>( value);class uJ<lE>{final  kZ;final  qZ;uJ(this.kZ,[this.qZ]); get value=>kZ(); set value( g){if(qZ!=null){qZ(g);}else{throw new Exception('Sorry - this handle has no setter.');}}}class jS<lE> extends GE{jS(g, i, h):super(g,i,h){pZ(nZ());} oZ( g){return rF(mZ,g);} pZ(g){mZ=new List<lE>.from(g);}}class kS<mE,hP> extends GE{kS(g, i, h):super(g,i,h){pZ(nZ());} oZ( g){var i=mZ.keys;if(i.length!=g.keys.length)return true;var j=i.iterator;while (j.moveNext()){var h=j.current;if(!g.containsKey(h))return true;if(mZ[h]!=g[h])return true;}return false;} pZ(g){mZ=new Map<mE,hP>.from(g);}}class lS<mE,hP> extends GE{lS(g, i, h):super(g,i,h){pZ(nZ());} oZ( g){return rF(g.keys,mZ.keys)||rF(g.values,mZ.values);} pZ(g){mZ=new PF.LinkedHashMap.from(g);}} rF( i, j){var h=i.iterator;var g=j.iterator;while (h.moveNext()){if(!g.moveNext())return true;if(h.current!=g.current)return true;}return g.moveNext();}class qB{final rZ;const qB.MT(this.rZ);toString()=>'Enum.${rZ}';static const HE=const qB.MT('LIST');static const sF=const qB.MT('HASH_MAP');static const tF=const qB.MT('ORDERED_MAP');static const iP=const qB.MT('OTHER');}abstract class dC implements CB.Element{var sZ;var tZ;var uZ={};var vZ=new UC({}); wC( g)=>vZ; BD( h,var g){vZ=g;} get host{if(sZ==null)throw new StateError('host element has not been set.');return sZ;}set host( g){if(g==null){throw new ArgumentError('host must not be null.');}var h=g.xtag;if(h!=null&&h!=g){throw new ArgumentError('host must not have its xtag property set.');}if(sZ!=null){throw new StateError('host can only be set once.');}g.xtag=this;sZ=g;}createShadowRoot([ g]){var h=wZ();if(g!=null){uZ[g]=h;}return h;}wZ(){if(vJ){return host.createShadowRoot();}if(tZ==null)tZ=[] ;tZ.add(new CB.DivElement());return tZ.last;} EK(){} PK(){} bK(){}get isTemplate=>host.isTemplate;get ref=>host.ref;get content=>host.content; createInstance()=>host.createInstance(); bind( g,h, i)=>host.bind(g,h,i); unbind( g)=>host.unbind(g); unbindAll()=>host.unbindAll(); MQ(){if(vJ)return;if(tZ.length==0){throw new StateError('Distribution algorithm requires at least one shadow' ' root and can only be run once.');}var j=tZ;var g=j.removeLast();var o=g;var m=new List.from(nodes);var k=[] ;var p=[] ;while (true){m=xZ(g,m);var h=g.query('shadow');if(h!=null){if(j.length>0){g=j.removeLast();k.add(h);p.add(g);}else{vF(h,m);break;}}else{break;}}for(int i=0;i<k.length;i++ ){var h=k[i];var g=p[i];vF(h,g.nodes);}nodes.clear();nodes.addAll(o.nodes);for(var q in uZ.keys){if(uZ[q]==o){uZ[q]=this;break;}}} xZ( o, j){for(var g in o.queryAll('content')){if(!kP(g))continue;var i=g.attributes['select'];if(i==null||i=='')i='*';var h=[] ;var m=[] ;for(var k in j){(jP(k,i)?h:m).add(k);}if(h.length==0){h=g.nodes;}vF(g,h);j=m;}return j;}static  jP( h, g){if(h is !CB.Element)return g=='*';return (h as CB.Element).matches(g);}static  uF( g)=>g.tagName=='CONTENT'||g.tagName=='SHADOW';static  kP( g){assert(uF(g));for(g=g.parent;g!=null;g=g.parent){if(uF(g))return false;}return true;}static  vF( g, h){assert(uF(g));g.parent.insertAllBefore(h,g);g.remove();} get nodes=>host.nodes; replaceWith( g){host.replaceWith(g);} remove()=>host.remove(); get nextNode=>host.nextNode; get document=>host.document; get previousNode=>host.previousNode; get text=>host.text;set text( g){host.text=g;} contains( g)=>host.contains(g); insertBefore( g, h)=>host.insertBefore(g,h); insertAllBefore( g, h)=>host.insertAllBefore(g,h); get attributes=>host.attributes; get elements=>host.children; get children=>host.children;set children( g){host.children=g;} get classes=>host.classes; clone( g)=>host.clone(g); get parent=>host.parent; get parentNode=>host.parentNode; get nodeValue=>host.nodeValue;dynamic get on{throw new UnsupportedError('on is deprecated');} get hidden=>host.hidden; get id=>host.id;set id( g){host.id=g;} set innerHtml( g){host.innerHtml=g;} get title=>host.title;set title( g){host.title=g;} get style=>host.style; get tagName=>host.tagName; matches( g)=>host.matches(g); requestPointerLock(){host.requestPointerLock();} query( g)=>host.query(g); queryAll( g)=>host.queryAll(g); get pP=>host.pP; get wF=>host.wF;set wF( g){host.wF=g;} get clientHeight=>client.height; get clientLeft=>client.left; get clientTop=>client.top; get clientWidth=>client.width; get client=>host.client; get rP=>host.rP; get xP=>host.xP; get offsetHeight=>offset.height; get offsetLeft=>offset.left; get offsetTop=>offset.top; get offsetWidth=>offset.width; get offset=>host.offset; get scrollLeft=>host.scrollLeft; get scrollTop=>host.scrollTop; sP( g)=>host.sP(g); tP( h, g)=>host.tP(h,g); HQ( h, g, i){host.HQ(h,g,i);} vP( h, g)=>host.vP(h,g); CQ( h, g)=>host.CQ(h,g); getBoundingClientRect()=>host.getBoundingClientRect(); uP( g)=>host.uP(g); AQ( g)=>host.AQ(g); BQ( g)=>host.BQ(g); GQ( h, g)=>host.GQ(h,g);get nP=>host.nP; get oP=>host.oP; get qP=>host.qP; get wP=>host.wP; get localName=>host.localName; get yP=>host.yP; get zP=>host.zP; mP( i, g,[ h]){host.mP(i,g,h);} dispatchEvent( g)=>host.dispatchEvent(g); DQ( g)=>host.DQ(g); EQ( i, g,[ h]){host.EQ(i,g,h);} FQ( g, h)=>host.FQ(g,h);get xtag=>host.xtag;set xtag(g){host.xtag=g;} append( g)=>host.append(g); get onChange=>host.onChange; get onClick=>host.onClick; get onError=>host.onError; get onInput=>host.onInput; get onKeyDown=>host.onKeyDown; get onKeyUp=>host.onKeyUp; get onLoad=>host.onLoad; get onMouseDown=>host.onMouseDown; get onMouseMove=>host.onMouseMove; get onFullscreenChange=>host.onFullscreenChange; get onFullscreenError=>host.onFullscreenError; get onMouseUp=>host.onMouseUp; get onTouchCancel=>host.onTouchCancel; get onTouchEnd=>host.onTouchEnd; get onTouchMove=>host.onTouchMove; get onTouchStart=>host.onTouchStart; get onMouseWheel{throw new UnsupportedError('onMouseWheel is not supported');}}class UC{final  yZ;UC(this.yZ); operator[]( g)=>yZ[g];}var lP=false; get vJ=>lP&&CB.ShadowRoot.supported;//@ sourceMappingURL=index.html_bootstrap.dart.map
